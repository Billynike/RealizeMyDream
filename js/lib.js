$("loading").ap(El("div","cen",{id:"loadbar"})._c(El("div",0,{id:"loadp"})),El("div",0,{id:"lding"}),El("div","ab a-cen cm",{id:"ldmsg"}));const Res={snd:{},spr:{},font:{"Arial":"Arial","Times New Roman":"Times New Roman"},lM:Infinity,loadNow:0,push(){this.loadNow++,$("loadp").style.width=this.loadNow/this.lM*100+"%",this.loadNow===this.lM&&(this.dU?.(),this.lM=Infinity)},lT(e,t){t?(this.lTC[e]++,this.lTC[e]===this.lTT[e]&&this.lTC[1-e]!==this.lTT[1-e]&&$("ldmsg").tx((e?`${i18n(123,0)}`:`${i18n(124,0)}`)+`${i18n(101,0)}`)):(this.lTT[0]||this.lTT[0]||($("ldmsg").tx((e?`${i18n(124,0)}`:`${i18n(123,0)}`)+`${i18n(101,0)}`),setTimeout(()=>$("ldmsg")._s(),2e3)),this.lTT[e]++)},reset(){this.lM=Infinity,this.loadNow=0,this.lTC=[0,0],this.lTT=[0,0],$("loading")._s(),$("loadp").style.width=0,$("ldmsg")._h(),$("ldmsg").tx(""),dac($("box"),"")},color:{r2yc(e,t,n){const r=[e,t,n];return this.r2y(r),r},r2y(e){const t=.2126,n=.7152,r=.0722;let s=e[0]**2.2,a=e[1]**2.2,i=e[2]**2.2,o=-t/(1-r)*s-n/(1-r)*a+i,p=s-n/(1-t)*a-r/(1-t)*i,l=Math.atan(p/o)/Math.DR/60;e[0]=(o<0?l+3:l+6)%6,e[1]=(o*o+p*p)**.5,e[2]=t*s+n*a+r*i},y2r(e,t,n,r){const s=.2126,a=.7152,i=.0722,o=1/2.2;let p=60*t*Math.DR,l=Math.cos(p)*n,c=Math.sin(p)*n;e[0]=Math.mM(r+(1-s)*c,0,1)**o,e[1]=Math.mM(r-i/a*(1-i)*l-s/a*(1-s)*c,0,1)**o,e[2]=Math.mM(r+(1-i)*l,0,1)**o},hT(e,t,n,r,s){let a=1-r;if(s){let s=(t[0]*r+n[0]*a)%6,i=t[1]*r+n[1]*a,o=t[2]*r+n[2]*a;Res.color.y2r(e,s,i,o)}else e[0]=t[0]*r+n[0]*a,e[1]=t[1]*r+n[1]*a,e[2]=t[2]*r+n[2]*a}},loadSnd(e,t,n=0){return new Promise((r,s)=>{this.getSnd(t,t=>Au.r$(()=>Au.ctx.decodeAudioData(t,t=>{let s={src:t,rec:{}};this.snd[e]=s,n||this.push("sound "+e),r(s)},s)),s)})},initSpr(e,t){if(e.i=t.i,e.n=t.n??1,e.x=t.x??0,e.y=t.y??0,e.tx=t.tx??0,e.ty=t.ty??0,e.w=t.w??32,e.h=t.h??32,e.bL=t.L??0,e.bT=t.T??0,e.boxW=t.W??e.w-e.bL,e.boxH=t.H??e.h-e.bT,e.ims=t.s??0,t.p?(e.px=!0,e.mask=t.p.split(",").map(e=>{let t=[];for(let n=0;n<e.length;n++){let r=$M._ids.indexOf(e[n]);t.push(1^!(32&r)),t.push(1^!(16&r)),t.push(1^!(8&r)),t.push(1^!(4&r)),t.push(1^!(2&r)),t.push(1^!(1&r))}return t})):e.px=!1,1===e.n&&(e.j=t.j??0,e.k=t.k??0),e.m=t.m??0,t.ci&&(e.ci=t.ci,e.cw=t.cw),e.tile=2===t.i,"string"==typeof t._)t._.split(",").for((t,n)=>e[n]=t?+t:null);else for(let n=0;n<e.n;n++)e[n]=t._+n},loadSpr(e,t,n,r,s){return new Promise((r,a)=>{let i=t+n,o=$R.G._s[i];o||a(),s.name=e,this.initSpr(s,o),this.spr[e]=s,setTimeout(()=>{Res.push(),r()},10+10*Math.random())})},getBg(e,t,n){let r=e.id+(e.g??""),s=$R.G._s[r];s||n(),e.c={_:s._,width:s.w??32,height:s.h??32},this.push(),t(e)},lB(e,t,n){return new Promise((r,s)=>{if(3===e.m)e.c="#"===e.g[0]?e.g:"#"+e.g,t||this.push("background color"),r(e);else if(e.m>3){let n,s=e.g.split(",");if(4===e.m){let t=e.g.indexOf(":");s[0]=s[0].slice(t+1),n=`linear-gradient(${90-e.g.slice(0,t)}deg,`}else n="radial-gradient(circle,";s.sort((e,t)=>e.slice(7)-t.slice(7)),n+=s.map(e=>`#${e.slice(0,6)} ${100*Number(e.slice(7))}%`).join(",")+")",e.c=n,t||this.push("background gradient"),r(e)}else this.getBg(e,r,s,t,n)})},loadFont(e,t=0){return new Promise((n,r)=>{if(this.font[e]||!e)return t||this.push("font "+e),n(e);this.getFont(e,e=>$RD.then(()=>{e.b.for((t,n)=>doc.fonts.add(new FontFace(e.id,t,{weight:1&n?"bold":"normal",style:2&n?"italic":"normal"}))),this.font[e.id]=e.n,t||this.push("font "+e.id),n(e.id)}),r)})},decFont(e,t,n){let r=t+"px ";return e&&Lib.font[e-1]&&(r+="'"+Lib.font[e-1]+"',"),r+="sy,emoji",1&n&&(r="bold "+r),2&n&&(r="italic "+r),r}};Object.assign(Res,{getSnd(e,t,n){CIW.get("snd",e).then(e=>t(e.b),r=>$M.xhr("GET",CDN+"sound/"+e,"arraybuffer",null,120).then(n=>{CIW.put("snd",{id:e,b:n.response}),t(n.response)},e=>n(e.err)))},getFont(e,t,n){CIW.get("font",e).then(t,r=>{let s=Lib.font.s[e],a=[];for(let t=0;t<s.b;t++)a.push($M.xhr("GET",CDN+"font/"+e+t,"arraybuffer",null,180));Promise.all(a).then(e=>{s.b=e.map(e=>e.response),CIW.put("font",s),Res.lT(1,1),t(s)},e=>n(e.err)),Res.lT(1,0)})},init(){let e=$("loading");e.ch[0]._h(),e.ch[1]._h(),e.ch[2].tx(`${i18n(83,0)}`),e.ap(El("div","ab cen help",{id:"ls",innerHTML:UI.ico("play"),style:"margin:0;font-size:96px;line-height:0;opacity:.7"}))}}),Res.init();const Au={init(){this.ctx=new AudioContext({latencyHint:"interactive"}),this.gain=this.ctx.createGain(),this.gain.connect(this.ctx.destination),this.bG=this.ctx.createGain(),this.bG.connect(this.gain),this.sG=this.ctx.createGain(),this.sG.connect(this.gain),this.setVol(App.gC("run","vol")),this.setBgmVol(App.gC("run","bgm")),this.ready.for(e=>e()),this.ready=null},ready:[],enable:!0,r$(e){this.ready?this.ready.push(e):e()},setVol(e){this.gain.gain.value=2**(e/100)-1},setBgmVol(e){e<100?(this.bG.gain.value=2**(e/100)-1,this.sG.gain.value=1):(this.bG.gain.value=1,this.sG.gain.value=2**((200-e)/100)-1)},play(e,t,n=100){if(!this.enable)return;let r=Res.snd[e];if(!r)return;let s=r.rec[t||1];if(s){if(this.ctx.currentTime-s.t<.03)return}else s=r.rec[t||1]={};let a=this.ctx.createBufferSource();if(a.buffer=r.src,t&&(a.playbackRate.value=t),100!==n){let e=this.ctx.createGain();e.gain.value=n/100,a.connect(e),e.connect(this.sG)}else a.connect(this.sG);a.start(),s.t=this.ctx.currentTime,s.s=a},stop(e){let t=Res.snd[e]?.rec;if(!t)return;let n=this.ctx.currentTime,r=Res.snd[e].src.duration;for(let e in t)(t[e].t>n-.01||t[e].t+r/e>n+.2)&&t[e].s.stop()},clear(){let e=this.ctx.currentTime;for(let t in Res.snd){let n=Res.snd[t].rec,r=Res.snd[t].src.duration;for(let t in n)(n[t].t>e-.01||n[t].t+r/t>e+.5)&&n[t].s.stop()}},Bgm:class{constructor(){this.au=new Audio,this.au.crossOrigin="anonymous",this.au.onended=()=>this.stop(),this.src=Au.ctx.createMediaElementSource(this.au),this.gain=Au.ctx.createGain(),this.gain.connect(Au.bG),this.src.connect(this.gain),this.state=0,this._vol=1}set url(e){this.au.src=e}set vol(e){this.gain.gain.cancelScheduledValues(0),this._vol=e/100,this.gain.gain.value=this._vol}set loop(e){this.au.loop=e}set time(e){this.au.currentTime=e}get time(){return this.au.currentTime}get len(){return this.au.duration}play(){return this.state=1,this.au.play().catch(e=>0)}stop(){this.au.pause(),this.time=0,this.state=0}pause(){this.au.pause(),this.state=2}#e(e,t=0,n=.5){this.gain.gain.cancelAndHoldAtTime(Au.ctx.currentTime),this.gain.gain.setValueAtTime(this.gain.gain.value,Au.ctx.currentTime+t),this.gain.gain.linearRampToValueAtTime(e,Au.ctx.currentTime+t+n)}#t;fI(){this.#t&&(clearTimeout(this.#t),this.#t=0),2===this.state&&this.play(),this.#e(this._vol),this.fD=!1}fO(e=0,t=.5,n=!0){this.#e(0,e,t),this.fD=!0,n&&(clearTimeout(this.#t),this.#t=setTimeout(()=>this.pause(),1e3*(e+t)))}destroy(){this.stop(),this.gain.disconnect()}}},Lib={obj:[],bobj:{ply:{jp:2,gd:270,dk:0,mh:1,og:250,cs:0,ad:0,rj:0,rg:1,rh:1,rn:1,rd:0,sj:1,sg:1,sm:0,sn:0,sd:1,hpt:50,dks:[0,64],dkc:"#f00",hpw:64,hph:8,hal:.7,hcf:"#fff",hce:"#fff",hct:0,hbw:1,hbc:"#fff",ogw:64,ogh:8,oal:.7,ocf:"#0f0",oce:"#f00",oct:0,obw:1,obc:"#fff",fr:.5,trg:[[5,[[5.03,0,[[6.67,40]],[[6.21,0,0,[0,0,4]],[6.22,[0,0,360]],[6.03,.1,.1,[0,270]],[6.32,1,["bld-0","bld-1","bld-2"]],[6.41,0,[0,2,4]],[6.39,1,[0,0,360]],[6.01,.6,.8]]]]]]},blt:{tml:[[1,[[.01,0,40],[3.01,0]]]],trg:[[2,[[.04,1,[[8.01,1,2],[8.01,1,55],[8.01,0,42]],[[3.01,0]]]]],[5,[[5.03,1,[[6.67,3]],[[6.45,[4,0],"#fff"],[6.41,0,[0,.15,.2]],[6.21,0,0,[0,2,4]],[6.22,[0,30,150]],[6.03,.2,.2,[0,270]],[6.42,50]]]]]]},gov:{txt1:"Game Over",ftf1:9,fts1:80,ftt1:1,fta1:1,ftc1:"#fff",fsd1:8,fsc1:"#000",fst1:3,fkc1:"#000",txt2:"--------------------------------\nPress R to Try Again",ftf2:9,fts2:28,ftt2:1,fta2:1,ftc2:"#fff",fsd2:0,fsc2:"#000",fst2:2,fkc2:"#000",al:0,tml:[[1,[[.01,0,20],[1.05,[0,1],30]]]]},dth:{hd:1},bui:{css:[[6.12,0,"#000",12],[6.13,1,1,5,"#000",.4]]}},gDS(e){return this.spD[e]??this.spr?.[e]},cKS(e){return e.length>2&&"_"===e.at(-2)?e.slice(0,-2):e},Db:["J1F8YKKNuJ","BgQC5bv4Nh","64F3TH1Vth","ZYg8ok9RYf","FvZDjouviO","OFlUC4p5qp","GKAULPMagl","9IugZAex0O","wxhFhKsB0j","37l3u2w2tC","AWuL7exHvR","RvpOWcfCBS","XYH3fEQjns","qXeQNxyUbq","Ld8BJeNAVl","UK3Gz9E5vU","uFyjjD54vI","hMJsFaRc7n","lNW6fllfoa","8vTrDgIpnI","qDY8RYdN1R","wOqlE4TBuY","Ell9vesCpG","DjyoytP2nd","fjoyaq5oVM"],spD:{ply:"1oZIHhXVJA",blt:"ah1R8UkWDi",sp:"PCptJrW5uw",wp:"1FiDO42HsD",spk:"zefE5PJTIU",chr:"PvdQ2ZtRjb",lsr:"bUPQwPD0Fp",jr:"Aa4jvzXfAZ",spr:"YMncsAlRE0",tp:"Js7E0Pa7Hq",bd:"KVXF8n8DQU",arr:"mEDHuOyHS7",xa:"kjkgob1BRn",blk:"NnEXoRM7le",tile:"zRMc04OAWF",blkm:"ZMIc6pETa4",pf:"BGeaFgPFjC",bbl:"YqQvAzwGdH",kbl:"eo2WBlpNjk",ice:"Irh1AqrDCr",wt1:"Aw0AppT05P",wt2:"7CWHnSZhXt",wt3:"Jdoh21nJfi",wt4:"bsnnzHrV9C",twt:"cThHx00Alo",lava:"Hm0dIVcC9B",wj:"wrEq1BGHWF",sbl:"evtyCHjp9F",crt:"SPEi8uXbu0",cvl:"lZQzerPKbK",ld:"ZaDAFhKBKU",rp:"MAsszUHnXq",trg:"WwXIzIbaOA",btn:"dFOYH6DDdo",dbt:"AjsYWzE7n6",sw:"8SQdxlMxsZ",swr:"ZpwzvN0oWx",mb:"frV3im8ymP",tj:"GKqF86I8cP",dj:"aZbP6yFEHx",sj:"HEky35xbOK",ij:"JBes8Fy5aM",lg:"hGFHvw4yqy",hg:"1effklJCue",fs:"D7SUi5U9If",ss:"7EDa7DtuAM",gu:"S7vWDjyKU9",gd:"dYkdsJrsdg",tree:"2QVCdDpnMW",cld:"N0HoroQ8R5",moon:"KzuAaXMDvU",star:"DfmYD5W0ae",grs:"ITbQR784IN",cvr:"07OhIEjv1s",bld:"ZhtGQA9Ml9",dm:"cILuHoXXYH",dmc:"84IBmNruNb",spl:"bdimkG0KWz",key:"ptoXPyZass",door:"X1ATzhRW0H",smk:"yis16UZYZv",itm:"JajxMBHWrA",dko:"TVshR2zYuu",dkf:"FUbKGtY3fv",pt:"zMUJFgExIL",wts:"R3wiEfkAha",slm:"RagOx6DHgo"},colAct:[1.01,1.02,1.03,1.07,1.08,1.09,1.1,1.14,1.18,1.19,1.2,1.22,2.02,2.03,2.04,2.05,2.06,2.07,2.08,2.09,2.1,2.11,2.12,2.13,2.14,2.15,2.16,2.17,2.18,2.19,2.2,2.22,2.23,2.24,2.25,2.26,2.27,2.29,2.3,2.31,2.32,2.33,2.34,2.35,3.2],movAct:[1.05,1.12,1.13,1.21,1.24],dec:{color(e){const t=e=>Number("0x"+e)/255;let n=[];if(4===e.length)for(let r=0;r<3;r++)n[r]=t(e[r+1]+e[r+1]);else for(let r=0;r<3;r++)n[r]=t(e.slice(2*r+1,2*r+3));return n},chT(e,t,n){Res.color.r2y(e),Res.color.r2y(t),0===e[1]?e[0]=t[0]:0===t[1]?t[0]=e[0]:1===n?e[0]>t[0]&&(t[0]+=6):2===n&&e[0]<t[0]&&(e[0]+=6)},hT(e,t,n,r){if(n){if(Res.color.r2y(t),e.hsl=Res.color.r2yc(e.rgb[0],e.rgb[1],e.rgb[2]),0===t[1]||0===e.hsl[1])t[0]=0;else{let s=Math.round(60*(t[0]-e.hsl[0]))/60;if(1===n)for(;s<=0;)s+=6;else for(;s>=0;)s-=6;t[0]=s/r}t[1]=(t[1]-e.hsl[1])/r,t[2]=(t[2]-e.hsl[2])/r,e.hslD=t,e.hslT=r,e.rgbT=0}else t[0]=(t[0]-e.rgb[0])/r,t[1]=(t[1]-e.rgb[1])/r,t[2]=(t[2]-e.rgb[2])/r,e.rgbD=t,e.rgbT=r,e.hslT=0},spd(e,t){switch(e[0]){case 0:return e[1];case 1:return Math.rand(e[1],e[2]);case 2:return t+e[1];case 3:return t*e[1]}}},aE(e,t,n,r){let s=Lib.eE(e,t);return 1===n?r+s:2===n?r*s:s}};Lib.mov=[e=>{e.$x=e.x+e.h_,e.$y=e.y+e.v_},e=>e.$aA(),e=>{e.$ang=e.dir+e.aAD},e=>{e.$ang=Math.dir($R.plyX-e.x,$R.plyY-e.y)+e.aAD},e=>{e.$ang=e.ang+e.rot},e=>{e.$ang=e.gag+e.angSinO+e.angSinA*Math.sin(e.angSin),e.angSin+=e.angSinSpd,e.angSin>Math.PI2&&(e.angSin-=Math.PI2)},e=>{if(e.hSinSpd){e.hSin+=e.hSinSpd;let t=e.hSinA*Math.sin(e.hSin),n=t-e.addX;e.$h_=e.h_+n-e.addH,e.addH=n,e.addX=t}if(e.vSinSpd){e.vSin+=e.vSinSpd;let t=e.vSinA*Math.sin(e.vSin),n=t-e.addY;e.$v_=e.v_+n-e.addV,e.addV=n,e.addY=t}},e=>{let t=0;for(let n in e.tC){let r=e.tC[n];r&&(r.S--,r.S>0?(r.U(),t++):(r.E(),delete e.tC[n]))}if(0===t)return!0},e=>{let t=e.yO.x-e.x,n=e.yO.y-e.y,r=(t*t+n*n)**.5;if(0===r)return e.$x=e.yO.x-e.h_,void(e.$y=e.yO.y-e.v_);let s=e.spd;s>r&&(e.$x=e.yO.x-s*t/r,e.$y=e.yO.y-s*n/r),e.$dspd(t,n,s),s<0&&(e.dir=(e.dir+180)%360,e.spd=-e.spd)},(e,t,n,r,s)=>{if(t||n){e.pT??=new _C.TC;let a=e.pT;a.x=e.x+t,a.y=e.y+n,a.h=t,a.v=n,a.a=0,a.init(0,0,r,0,1,s),e.MOV[0]=Lib.mov[0],e.MOV[4]=Lib.mov[10]}else e.spd=0,e.h_=0,e.v_=0,e.Md(0),e.Md(4);delete e.tC.h_,delete e.tC.v_,delete e.tC.spd,delete e.tC.dir,e.Md(1),e.Md(3)},e=>{let t=e.pT;if(t.S--,!(t.S>0))return e.$x=t.x,e.$y=t.y,e.spd=0,e.h_=0,e.v_=0,!0;{let n=t.F(),r=n-t.a;t.a=n,e.$hvspd(t.h*r,t.v*r)}},(e,t,n,r,s,a,i)=>{e.tC[t]??=new _C.TC,i?e.tC[t].init(e,i,n,r,s,a):e.tC[t].init(e,t,n,r,s,a)},e=>{},e=>{},e=>{$R.sL.push(e)},e=>{},e=>{if(e.spd<=0)return e.spd=0,e.h_=0,e.v_=0,!0;let t=e.pth,n=t.cx,r=t.cy,s=1;for(;;){let a=t.h*e.spd,i=t.v*e.spd,o=Math.max((t.x-n)/a||0,(t.y-r)/i||0);if(o>s)return e.$x=e.x+(n-t.cx)+(s-1)*a,e.$y=e.y+(r-t.cy)+(s-1)*i,e.$hvspd(a,i),t.cx=n+s*a,void(t.cy=r+s*i);if(t.i+=2,t.i>=t.p.length){if(1!==t.e)return e.spd=0,e.h_=0,e.v_=0,e.$x=e.x+(t.x-t.cx),e.$y=e.y+(t.y-t.cy),!0;t.i-=t.p.length}n=t.x,r=t.y,s-=o;let p=t.p[t.i],l=t.p[t.i+1],c=(p*p+l*l)**.5;t.h=p/c,t.v=l/c,t.x+=p,t.y+=l}},e=>{let t=Math.rand(-e.hSinA,e.hSinA),n=Math.rand(-e.vSinA,e.vSinA),r=t-e.addX,s=n-e.addY;e.$hvspd(e.h_+r-e.addH,e.v_+s-e.addV),e.addX=t,e.addY=n,e.addH=r,e.addV=s},e=>{if(!e.hslT&&!e.rgbT)return!0;e.$d(),e.$aC()}],Lib.def=[[1,e=>{let t=e.spr,n=e.ims??t.ims;if(n){let r=e.ind<<0;e.ind+=1/n,e.ind=(e.ind%t.length+t.length)%t.length,r!==e.ind<<0&&e.$d()}}],[1,e=>{if(e.ims){let t=e.ind<<0,n=e.spr.length;e.ind+=1/e.ims,e.ind>=n?e.ind-=n:e.ind<0&&(e.ind+=n),t!==e.ind<<0&&e.$d(),e.ind<1&&(e.ind=0,e.ims=0)}}],[1,e=>{let t,n;switch(e.hpf[0]){case 0:t=e.hpf[1];break;case 1:t=$R.counter[e.hpf[1]];break;case 2:t=e.VAR[e.hpf[1]];break;case 3:t=$R.gVR(e.hpf[1]);break;case 4:t=$R.gRV(e.hpf[1])}switch(e.hp[0]){case 0:n=$R.counter[e.hp[1]];break;case 1:n=e.VAR[e.hp[1]];break;case 2:n=$R.gVR(e.hp[1]);break;case 3:n=$R.gRV(e.hp[1])}let r,s=Math.mM((n??0)/(t??0),0,1);if(Number.isNaN(s)||(e.tHp=s),e._hp>=0&&e.hpt[0]){let t=e.tHp-e._hp;r=e._hp+Math.sign(t)*Math.min(e.hpt[1]/100,Math.abs(t))}else r=e.tHp;r!==e._hp&&(e._hp=r,r&&Res.color.hT(e.rgb,e.hcf,e.hce,r,e.hct),e.$d())}],[2,e=>{if(e.lso&&!e.lst){let t=e.h,{h:n,o:r}=$R.Col._.fL(e,$R.cm[2],e.x,e.y,e.scy*e.len,e.ang-90);e.h=Math.round(n),e._h=e.h/e.scy,e.calc=!1,r&&e.uCO(r),e.h!==t&&(e.$d(),e.m_=!0)}}],[2,e=>{let t=e.hacc,n=e.vacc,r=(t*t+n*n)**.5;if(r){t/=r,n/=r;let s=e.h_*t+e.v_*n,a=s*t,i=s*n,o=e.mxy(t,n,$R.cm[56])||e.mxy(t,n,$R.cm[25]);if(o){let r=o.csp*Math.sign(o.scx);if(r){20===o.obj&&(r=-r);let p=Math.abs(o.csa/o.csp),l=o.ang*Math.DR,c=r*Math.cos(l),d=-r*Math.sin(l),h=n*c-t*d,u=t*c+n*d;u&&(u>0?s<u&&(s+=Math.min(u-s,p*u||Infinity)):u<0&&s>u&&(s+=Math.max(u-s,p*u||-Infinity)),a=s*t,i=s*n),e.csd??=0,h>0?e.csd<h?e.csd+=Math.min(h-e.csd,p*h||Infinity):e.csd=h:h<0&&(e.csd>h?e.csd+=Math.max(h-e.csd,p*h||-Infinity):e.csd=h),e.csd&&(a+=e.csd*n,i+=e.csd*-t)}}e.$hvspd(a,i),e.MOV[0]=Lib.mov[0],e.Md(4)}else{let t=e.mp($R.cm[56])||e.mp($R.cm[25]);if(t){let n=t.csp*Math.sign(t.scx);if(n){20===t.obj&&(n=-n);let r=Math.abs(t.csa/t.csp),s=t.ang*Math.DR,a=n*Math.cos(s),i=-n*Math.sin(s),o=e.h_,p=e.v_;a>0?o<a&&(o+=Math.min(a-o,r*a||Infinity)):a<0&&o>a&&(o+=Math.max(a-o,r*a||-Infinity)),i>0?p<i&&(p+=Math.min(i-p,r*i||Infinity)):i<0&&p>i&&(p+=Math.max(i-p,r*i||-Infinity)),e.$hvspd(o,p),e.MOV[0]=Lib.mov[0],e.Md(4)}}}}],[1,e=>{if(e.syncS||e.syncSS||e.syncSA){const t=$R.$p;if(t){let n=t.ind+1/e.spr.ims,r=(t.gd+90)%360,s=Math.sign(t.scx);e.syncST?e.syncSQ.push([t.spr.id,n,r,s]):(e.syncS&&(e.spr=$R._r.Spr[e.spr.name+t.spr.id]??t.spr,e.ind=n%e.spr.length),e.syncSA&&(e.$ang=180===r?0:r),e.syncSS&&(e.$scx=Math.abs(e._scx)*s,e.$scy=Math.abs(e._scy)*(180===r?-1:1)))}if(e.syncST)if(t||e.syncSQ.push(null),++e.syncSQ.t>e.syncST){let t=e.syncSQ.shift();t&&(e.syncS&&(e.spr=$R._r.Spr[e.spr.name+t[0]]??e.spr,e.ind=t[1]%e.spr.length),e.syncSA&&(e.$ang=180===t[2]?0:t[2]),e.syncSS&&(e.$scx=Math.abs(e._scx)*t[3],e.$scy=Math.abs(e._scy)*(180===t[2]?-1:1)))}else Lib.def[0][1](e)}else Lib.def[0][1](e)}],[1,e=>{$R.sL.push(e)}]],Lib.act=[[(e,[,t,n],r)=>{r.time+=t?Math.max(.01,e.tmlB*Lib.eE(e,n)):Math.max(.01,Lib.eE(e,n))},(e,[,t,n],r,s)=>{s.ct<n?(r.node=t,s.ct++):s.ct=0},(e,[,t,n,r,s])=>{if(e._e[n.c+e._E]>=t)return;let a=0,i=n.n;e:for(let t=0;t<i.length;t++){let s=i[t];for(let t=0;t<s;t++){const r=n[a+t];if(!r.f(e,r)){a+=s;continue e}}return e._e[n.c+e._E]++,void r.for(t=>t.f(e,t))}s&&(e._e[n.c+e._E]++,s.for(t=>t.f(e,t)))},(e,[,,t,n,r])=>{let s=0,a=t.n;e:for(let r=0;r<a.length;r++){let i=a[r];for(let n=0;n<i;n++){const r=t[s+n];if(!r.f(e,r)){s+=i;continue e}}return void n.for(t=>t.f(e,t))}r&&r.for(t=>t.f(e,t))}],[(e,[,t])=>{if(e.cm!==t){let n=[];if(t){let r=$R.cm[t],s=$R.cm[e.obj+5];t>=2&&r&&n.push(r),s&&n.push(s)}$R.Col._.swap(e,n),e.cm=t}},(e,[,t,n,r])=>{let s=e._scx,a=e._scy,i=2===t[0]?s*t[1]:t[0]?s+t[1]:t[1],o=2===n[0]?a*n[1]:n[0]?a+n[1]:n[1];if(0===r[0]||1===r)t[0]&&!t[1]||(delete e.tC.scx,e.$scx=i),n[0]&&!n[1]||(delete e.tC.scy,e.$scy=o),e.uCB();else{let p=r[1]||r,l=2*(r[0]-1|0);t[0]&&!t[1]||Lib.mov[11](e,"scx",p,s,i-s,l,t=>e.$scx=t),n[0]&&!n[1]||Lib.mov[11](e,"scy",p,a,o-a,l,t=>e.$scy=t),e.MOV[5]=Lib.mov[7]}},(e,[,t,n])=>{let r=e.ang-e.gag,s=t[0]?r+t[1]:t[1];0===n[0]||1===n?(delete e.tC.ang,e.$ang=s+e.gag,e.uCB()):(Lib.mov[11](e,"ang",n[1]||n,r,s-r,2*(n[0]-1|0),t=>e.$ang=t+e.gag),e.Md(2),e.MOV[5]=Lib.mov[7])},(e,[,t])=>{e.sHd(2===t?1^e.hd:t),e.$d()},(e,[,t,n])=>{let r=Math.mM(t[0]?e.al+t[1]:t[1],0,1);r!==e.al?1===n?(e.al=r,e.$d(),delete e.tC.al):(Lib.mov[11](e,"al",n,e.al,r-e.al,0,t=>{e.al=t,e.$d()}),e.MOV[5]=Lib.mov[7]):delete e.tC.al},(e,[,t])=>e.moveOxy(t),(e,[,t,n])=>{let r=Math.mM(t[0]?e.len+t[1]:t[1],32,800);r!==e.len?1===n?(e.len=r,e.h=e.scy*r,e.$d(),e.calc=!1,e.uCB(),delete e.tC.len):(Lib.mov[11](e,"len",n,e.len,r-e.len,0,t=>{e.len=t,e.h=e.scy*t,e.$d(),e.calc=!1,e.m_=!0}),e.MOV[5]=Lib.mov[7]):delete e.tC.len},(e,[,t])=>{let n=2===t?!e.lso:!!t;if(e.lso!==n){e.lso=n;let t=n?e.scy*e.len:0;e.h!==t&&(e.h=t,e.$d(),e.calc=!1,e.uCB())}},(e,[,t])=>{let n=2===t?!e.lst:!!t;if(e.lst!==n){e.lst=n;let t=e.lso?e.scy*e.len:0;e.h!==t&&(e.h=t,e.$d(),e.calc=!1,e.uCB())}},(e,[,t,n])=>{let r=e.gpi?e.grp.p[e._gn]:e,s=t[1],a=n[1];switch(t[0]){case 1:s-=r.x;break;case 2:s+=$R.plyX-r.x}switch(n[0]){case 1:a-=r.y;break;case 2:a+=$R.plyY-r.y}e.gpi?(r.x+=s,r.y+=a,e.updGrpPos()):(e.$x=e.x+s,e.$y=e.y+a),e.uCB()},(e,[,t])=>{let n=e.ind;switch(t[0]){case 0:n=t[1];break;case 1:n+=t[1];break;case 2:n=Math.rand(t[1],t[2]+1)<<0}if(n>=e.spr.length)n%=e.spr.length;else for(;n<0;)n+=e.spr.length;n!==e.ind&&(n!==e.ind<<0&&e.$d(),e.ind=n)},(e,[,t,n])=>{let r=Lib.dec.color(t);n[0]?(Lib.dec.hT(e,r,n[0]-1,n[1]),e.MOV[9]=Lib.mov[18]):(e.rgb=r,e.rgbT=0,e.hslT=0,e.$d())},(e,[,t])=>{e.ims=Lib.eE(e,t),!e.DEF[0]!==Lib.def[1][1]&&e.DEF[0]!==Lib.def[5][1]&&e.DEF.add(Lib.def[0][1])},(e,[,t,n])=>{const r=$R._r.Spr[t];r&&r!==e.spr&&(e.sSp(r),e.setTile(),n&&(e.ind=0))},(e,[,t])=>{e.spr=$R._r.Spr[e.spr.name+$R.sprPly[t]]??$R._r.Spr.ply_i,e.ind=e.ind%e.spr.length,e.$d()},(e,[,t])=>{switch(t[0]){case 0:e.txi<e.txs.length-1&&(e.txi++,e.Tx(e.txs[e.txi]));break;case 1:e.txi&&(e.txi--,e.Tx(e.txs[e.txi]));break;case 2:let n=0|Lib.eE(e,t[1]);e.txs[n]&&(e.txi=n,e.Tx(e.txs[n]))}},(e,[,t])=>{e.html.upd=!0,_C.ST(e.html,t,!1,!1),t._.transform&&(e.html.style.transform=e.oT+(t._.transform??""))},(e,[,t,n,r,s])=>{let a=e.gpi?e.grp.p[e._gn]:e,i=Lib.eE(e,n),o=Lib.eE(e,s);t&&(i+=2===t?$R.plyX:a.x),r&&(o+=2===r?$R.plyY:a.y),e.gpi?(a.x=i,a.y=o,e.updGrpPos()):(e.$x=i,e.$y=o),e.uCB()},(e,[,t,n,r,s,a])=>{let i=Lib.eE(e,r),o=Lib.eE(e,a);if(o>=1){if(1!==t){let t=e._scx,r=1===n?t+i:2===n?t*i:i;Lib.mov[11](e,"scx",o,t,Math.mM(r,-256,256)-t,s,t=>e.$scx=t)}if(0!==t){let t=e._scy,r=1===n?t+i:2===n?t*i:i;Lib.mov[11](e,"scy",o,t,Math.mM(r,-256,256)-t,s,t=>e.$scy=t)}e.MOV[5]=Lib.mov[7]}else{if(1!==t){let t=e._scx;e.$scx=Math.mM(1===n?t+i:2===n?t*i:i,-256,256),delete e.tC.scx}if(0!==t){let t=e._scy;e.$scy=Math.mM(1===n?t+i:2===n?t*i:i,-256,256),delete e.tC.scy}e.uCB()}},(e,[,t,n,r,s])=>{let a=(e.ang-e.gag+360)%360,i=Lib.aE(e,n,t,a),o=Lib.eE(e,s);o>=1?(Lib.mov[11](e,"ang",o,a,i-a,r,t=>e.$ang=t+e.gag),e.Md(2),e.MOV[5]=Lib.mov[7]):(e.$ang=i+e.gag,e.uCB(),delete e.tC.ang)},(e,[,t,n,r,s])=>{let a=Math.mM(Lib.aE(e,n,t,e.al),0,1),i=Lib.eE(e,s);i>=1?(Lib.mov[11](e,"al",i,e.al,a-e.al,r,t=>{e.al=Math.mM(t,0,1),e.$d()}),e.MOV[5]=Lib.mov[7]):(e.al=a,e.$d(),delete e.tC.al)},(e,[,t,n,r,s])=>{let a=Math.mM(Lib.aE(e,n,t,e.len),32,800);if(a===e.len)return void delete e.tC.len;let i=Lib.eE(e,s);i<1?(e.len=a,e.h=e.scy*a,e.$d(),e.calc=!1,e.uCB(),delete e.tC.len):(Lib.mov[11](e,"len",i,e.len,a-e.len,r,t=>{t=Math.mM(t,32,800),e.len=t,e.h=e.scy*t,e.$d(),e.calc=!1,e.m_=!0}),e.MOV[5]=Lib.mov[7])},(e,[,t,n])=>{let r=Lib.aE(e,n,t,e.ind);r=(r%e.spr.length+e.spr.length)%e.spr.length,r!==e.ind&&(r!==e.ind<<0&&e.$d(),e.ind=r)},(e,[,t,n,r])=>{let s=Lib.dec.color(t),a=Lib.eE(e,r);a>=1?(Lib.dec.hT(e,s,n,a),e.MOV[9]=Lib.mov[18]):(e.rgb=s,e.rgbT=0,e.hslT=0,e.$d(),e.Md(9))},(e,[,t,n])=>{e.csp=Math.mM(Lib.eE(e,t),0,32),e.csa=Math.mM(Lib.eE(e,n),0,32)},(e,[,t])=>e.ag=Math.mM(Lib.eE(e,t),0,1),(e,[,t])=>e.as=Math.mM(Lib.eE(e,t),0,16),(e,[,t])=>e.pfs=t,(e,[,t])=>{t?(t<10&&(t-=1),e.bm=t):e.bm=void 0,e.$d()},(e,[,t])=>{e.cbm!==t&&(e.cbm=t,e.$d())}],[e=>{e.MOV.length=0,e.gpi&&(e=e.grp.p[e._gn]),e.spd=0,e.h_=0,e.v_=0,e.addH&&(e.addH=0),e.addV&&(e.addV=0),e.yO&&(e.yO=null),delete e.tC.h_,delete e.tC.v_,delete e.tC.spd,delete e.tC.dir},(e,[,t])=>{e.gpi&&(e=e.grp.p[e._gn]),e.$spd=Lib.dec.spd(t,e.spd),e.MOV[0]=Lib.mov[0],e.spd<=0&&e.Md(4)},(e,[,t])=>{e.gpi&&(e=e.grp.p[e._gn]),e.$h_=Lib.dec.spd(t,e.h_),e.MOV[0]=Lib.mov[0],e.Md(4)},(e,[,t])=>{e.gpi&&(e=e.grp.p[e._gn]),e.$v_=Lib.dec.spd(t,e.v_),e.MOV[0]=Lib.mov[0],e.Md(4)},(e,[,t])=>{switch(e.gpi&&(e=e.grp.p[e._gn]),t[0]){case 0:e.$dir=t[1];break;case 1:e.$dir=Math.rand(t[1],t[2]);break;case 2:e.$dir=e.ang+t[1];break;case 3:case 4:e.$dspd($R.plyX-e.x,$R.plyY-e.y,4===t[0]?-e.spd:e.spd);break;case 5:e.$dir=e.dir+t[1];break;case 6:e.$dir=e.dir+Math.rand(t[1],t[2])}e.Md(4)},(e,[,t])=>{switch(e.rot??=0,t[0]){case 0:e.rot+=t[1];break;case 1:e.rot*=t[1]}e.MOV[2]=e.rot?Lib.mov[4]:null,delete e.tC.ang},(e,[,t,n,r,s])=>{e.gpi&&(e=e.grp.p[e._gn]);let a=t[1],i=n[1];switch(t[0]){case 0:a+=e.x;break;case 2:a+=$R.plyX}switch(n[0]){case 0:i+=e.y;break;case 2:i+=$R.plyY}let o=a-e.x,p=i-e.y,l=(o*o+p*p)**.5,c=0===r[0]?r[1]:Math.rand(r[1],r[2]);Lib.mov[9](e,o,p,l/c*(_C.TC.DT[s]??1),s)},(e,[,t,n,r,s])=>{e.gpi&&(e=e.grp.p[e._gn]);let a=0===r[0]?r[1]:Math.rand(r[1],r[2]);n[0]<3?e.$Sd(a,0===n[0]?n[1]:1===n[0]?Math.rand(n[1],n[2])+360:e.ang+n[1]):e.$dspd($R.plyX-e.x,$R.plyY-e.y,4===n[0]?-a:a);let i=e.h_/a*t,o=e.v_/a*t;Lib.mov[9](e,i,o,t/a*(_C.TC.DT[s]??1),s)},(e,[,t,n])=>{e.gpi&&(e=e.grp.p[e._gn]),e.$hvspd(0===t[0]?t[1]:Math.rand(t[1],t[2]),0===n[0]?n[1]:Math.rand(n[1],n[2])),e.MOV[0]=Lib.mov[0],e.Md(4)},(e,[,t,n])=>{e.gpi&&(e=e.grp.p[e._gn]);let r=0===t[0]?t[1]:Math.rand(t[1],t[2]);n[0]<3?e.$Sd(r,0===n[0]?n[1]:1===n[0]?Math.rand(n[1],n[2])+360:e.ang+n[1]):e.$dspd($R.plyX-e.x,$R.plyY-e.y,4===n[0]?-r:r),e.MOV[0]=Lib.mov[0],e.Md(4)},(e,[,t,n,r])=>{e.gpi&&(e=e.grp.p[e._gn]);let s=Lib.eE(e,t),a=Lib.eE(e,n);r&&(a+=2===r?Math.dir($R.plyX-e.x,$R.plyY-e.y):e.ang),a*=Math.DR,e.hacc=s*Math.cos(a),e.vacc=-s*Math.sin(a),Math.abs(e.hacc)<1e-12&&(e.hacc=0),Math.abs(e.vacc)<1e-12&&(e.vacc=0),e.MOV[0]=Lib.mov[0],e.MOV[1]=Lib.mov[1],e.Md(4)},(e,[,t])=>{e.aAD=t[1],e.MOV[2]=Lib.mov[2+t[0]],delete e.tC.ang},(e,[,t])=>{e.rot=0===t[0]?t[1]:Math.rand(t[1],t[2]),e.MOV[2]=Lib.mov[4],delete e.tC.ang},(e,[,t,n,r])=>{e.angSin=0,e.angSinO=t,e.angSinA=n,e.angSinSpd=Math.PI2/r,e.MOV[2]=Lib.mov[5]},(e,[,t,n,r])=>{e.gpi&&(e=e.grp.p[e._gn]),e.hSinA=Lib.eE(e,t),e.hSinSpd=Math.PI2/Math.max(4,Lib.eE(e,n)),e.hSin=Lib.eE(e,r)*Math.DR,e.addX=e.hSinA*Math.sin(e.hSin),e.addH&&(e.$h_=e.h_-e.addH),e.addH=0,e.MOV[0]=Lib.mov[0],e.MOV[3]=Lib.mov[6],e.Md(4),delete e.tC.h_,delete e.tC.spd,delete e.tC.dir},(e,[,t,n,r])=>{e.gpi&&(e=e.grp.p[e._gn]),e.vSinA=Lib.eE(e,t),e.vSinSpd=Math.PI2/Math.max(4,Lib.eE(e,n)),e.vSin=Lib.eE(e,r)*Math.DR,e.addY=e.vSinA*Math.sin(e.vSin),e.addV&&(e.$v_=e.v_-e.addV),e.addV=0,e.MOV[0]=Lib.mov[0],e.MOV[3]=Lib.mov[6],e.Md(4),delete e.tC.v_,delete e.tC.spd,delete e.tC.dir},(e,[,t,n,r])=>{if(!(t.length<2)){if(0===(n=Math.max(0,Lib.eE(e,n))))e.$spd=0,e.Md(4);else{e.gpi&&(e=e.grp.p[e._gn]);let s=(t[0]*t[0]+t[1]*t[1])**.5;e.pth={p:t,i:0,e:r,h:t[0]/s,v:t[1]/s,x:t[0],y:t[1],cx:0,cy:0},e.$hvspd(e.pth.h*n,e.pth.v*n),e.MOV[0]=Lib.mov[0],e.MOV[4]=Lib.mov[16]}e.Md(1),e.Md(3),delete e.tC.h_,delete e.tC.v_,delete e.tC.spd,delete e.tC.dir}},(e,[,t])=>{e.gpi||$R.$p&&(e.yO=$R.$p,e.spd=t,e.MOV[0]=Lib.mov[0],e.Md(1),e.Md(3),e.MOV[4]=Lib.mov[8],Lib.mov[8](e),delete e.tC.h_,delete e.tC.v_,delete e.tC.spd,delete e.tC.dir)},(e,[,t,n,r,s])=>{e.gpi||$R.$p&&(e.yO=$R.$p,t?(e.syncX=Lib.eE(e,n),e.$x=e.yO.x+e.syncX):e.syncX=void 0,r?(e.syncY=Lib.eE(e,s),e.$y=e.yO.y+e.syncY):e.syncY=void 0,e.syncXS=1,e.syncYS=1,e.m_&&e.uCB(),e.Md(0),e.Md(1),e.Md(3),delete e.tC.h_,delete e.tC.v_,delete e.tC.spd,delete e.tC.dir,e.MOV[4]=Lib.mov[14])},(e,[,t,n])=>{if(!e.gpi){if(!t.length)return e.colli=_C.skip;e.outO=t,e.outB=n,e.outX=0,e.outY=0,e.outH=0,e.outV=0,e.outIn=!0,e.outF=!0,e.outD=!1,e.colli=e.out,e._colli=e._out}},(e,[,t])=>{e.gpi&&(e=e.grp.p[e._gn]),e.acc=-Math.max(0,Lib.eE(e,t)),e.MOV[0]=Lib.mov[0],e.MOV[1]=Lib.mov[1],e.Md(3),e.Md(4)},(e,[,t,n])=>{e.gpi&&(e=e.grp.p[e._gn]),e.hSinA=Lib.eE(e,t),e.vSinA=Lib.eE(e,n),e.MOV[3]!==Lib.mov[17]&&(e.addX=0,e.addY=0),(e.addH||e.addV)&&e.$hvspd(e.h_-e.addH,e.v_-e.addV),e.addH=0,e.addV=0,e.MOV[0]=Lib.mov[0],e.MOV[3]=Lib.mov[17],e.Md(4),e.hSinA&&delete e.tC.h_,e.vSinA&&delete e.tC.v_,delete e.tC.spd,delete e.tC.dir},(e,[,t])=>{if(!e.gpi){if(!t.length)return e.colli=_C.skip;e.bcO=t,e.colli=e.bc}},(e,[,t,n,r,s,a,i])=>{if(!e.gpi){if(e.yO=$R.view,t)switch(n[0]){case 0:e.syncX=e.x-$R.view.x*r;break;case 1:e.syncX=n[1]}else e.syncX=void 0;if(s)switch(a[0]){case 0:e.syncY=e.y-$R.view.y*i;break;case 1:e.syncY=a[1]}else e.syncY=void 0;e.syncXS=r,e.syncYS=i,e.Md(0),e.Md(1),e.Md(3),e.MOV[4]=Lib.mov[14]}},(e,[,t,n,r,s,a])=>{e.gpi||(e.yO=null,e.wM(t+1,t=>e.yO=t),e.yO&&(e.syncX=n?r:void 0,e.syncY=s?a:void 0,e.syncXS=1,e.syncYS=1,n&&(e.$x=e.yO.x+r),s&&(e.$y=e.yO.y+a),e.m_&&e.uCB(),e.Md(0),e.Md(1),e.Md(3),e.MOV[4]=Lib.mov[14]))},(e,[,t,n=1,r=1,s])=>{$R.$p&&(e.DEF[0]=Lib.def[5][1],e.syncS=t,e.syncSS=n,e.syncSA=r,e.syncST=s,e.syncST?(e.syncSQ=[],e.syncSQ.t=0):(Lib.def[5][1](e),e.syncS&&(e.ind=$R.$p.ind%e.spr.length)))},(e,[,t,n,r,s,a,i,o,p])=>{if(e.gpi)return;let l={tx:s,ty:p};switch(t){case 0:if(!$R.$p)return;l.X=()=>$R.$p?.x;break;case 2:if(!$R.$p)return;l.X=()=>$R.$p?.y}switch(a){case 0:if(!$R.$p)return;l.Y=()=>$R.$p?.y;break;case 2:if(!$R.$p)return;l.Y=()=>$R.$p?.x}s?(l.xs=[],l.xt=0,Object.defineProperty(l,"x",{get(){if(this.xs.push(this.X()),++this.xt>this.tx){let e=this.xs.shift();void 0!==e&&(this._x=e)}return this._x}})):Object.defineProperty(l,"x",{get(){let e=this.X();return void 0!==e&&(this._x=e),this._x}}),p?(l.ys=[],l.yt=0,Object.defineProperty(l,"y",{get(){if(this.ys.push(this.Y()),++this.yt>this.ty){let e=this.ys.shift();void 0!==e&&(this._y=e)}return this._y}})):Object.defineProperty(l,"y",{get(){let e=this.Y();return void 0!==e&&(this._y=e),this._y}}),e.yO=l,e.syncXS=n,e.syncYS=i,l.X&&(e.syncX=r,l._x=l.X(),e.$x=l._x*n+r),l.Y&&(e.syncY=o,l._y=l.Y(),e.$y=l._y*i+o),e.m_&&e.uCB(),e.Md(0),e.Md(1),e.Md(3),e.MOV[4]=Lib.mov[14]},e=>{e.gpi&&(e=e.grp.p[e._gn]),delete e.tC.h_,delete e.tC.v_,delete e.tC.spd,delete e.tC.dir,e.Md(1),e.Md(3),e.Md(4),e.addH&&(e.addH=0),e.addV&&(e.addV=0),e.yO&&(e.yO=null)},(e,[,t,n,r])=>{e.angSinA=Lib.eE(e,t),e.angSinSpd=Math.PI2/Math.max(4,Lib.eE(e,n)),e.angSin=Lib.eE(e,r)*Math.DR,e.angSinO=e.ang-e.angSinA*Math.sin(e.angSin),e.MOV[2]=Lib.mov[5],delete e.tC.ang},(e,[,t,n,r,s,a])=>{e.gpi&&(e=e.grp.p[e._gn]);let i=1===t?e.h_:2===t?e.v_:e.spd,o=Lib.aE(e,r,n,i),p=Lib.eE(e,a);t?(1===t?p>=1?Lib.mov[11](e,"h_",p,i,o-i,s,t=>e.$h_=t):(e.$h_=o,delete e.tC.h_):p>=1?Lib.mov[11](e,"v_",p,i,o-i,s,t=>e.$v_=t):(e.$v_=o,delete e.tC.v_),delete e.tC.spd,delete e.tC.dir):(p>=1?Lib.mov[11](e,"spd",p,i,o-i,s,t=>e.$spd=t):(e.$spd=o,delete e.tC.spd),delete e.tC.h_,delete e.tC.v_),e.MOV[0]=Lib.mov[0],p>=1&&(e.MOV[5]=Lib.mov[7]),(t||e.MOV[4]!==Lib.mov[16]&&e.MOV[4]!==Lib.mov[8])&&e.Md(4)},(e,[,t,n,r,s])=>{e.gpi&&(e=e.grp.p[e._gn]);let a=Lib.eE(e,n),i=Lib.eE(e,s);t&&(a+=3===t?Math.dir($R.plyX-e.x,$R.plyY-e.y):2===t?e.ang:e.dir),i>=1?(Lib.mov[11](e,"dir",i,e.dir,a-e.dir,r,t=>e.$dir=t),delete e.tC.h_,delete e.tC.v_,e.MOV[5]=Lib.mov[7]):(e.$dir=a,delete e.tC.dir),e.Md(4)},(e,[,t,n,r,s])=>{e.rot??=0;let a=Lib.aE(e,n,t,e.rot),i=Lib.eE(e,s);i>=1?(Lib.mov[11](e,"rot",i,e.rot,a-e.rot,r),e.MOV[5]=Lib.mov[7]):e.rot=a,e.MOV[2]=Lib.mov[4],delete e.tC.ang},(e,[,t,n,r,s,a,i,o])=>{let p=e.gpi?e.grp.p[e._gn]:e,l=Lib.eE(e,n),c=Lib.eE(e,s);0===t?l+=p.x:2===t&&(l+=$R.plyX),0===r?c+=p.y:2===r&&(c+=$R.plyY);let d=Math.max(1,Lib.eE(e,o));if(i)Lib.mov[9](p,l-p.x,c-p.y,d,a);else{let e=l-p.x,t=c-p.y,n=(e*e+t*t)**.5;Lib.mov[9](p,e,t,n/d*(_C.TC.DT[a]??1),a)}},(e,[,t,n,r,s,a,i])=>{let o=e.gpi?e.grp.p[e._gn]:e,p=Lib.eE(e,t),l=Lib.eE(e,r);1===n?l+=(e.ang-e.gag+360)%360:2===n&&(l+=Math.dir($R.plyX-o.x,$R.plyY-o.y)),l*=Math.DR;let c=Math.max(1,Lib.eE(e,i)),d=p*Math.cos(l),h=p*-Math.sin(l);a?Lib.mov[9](o,d,h,c,s):Lib.mov[9](o,d,h,Math.abs(p)/c*(_C.TC.DT[s]??1),s)},(e,[,t,n])=>{e.aAD=Lib.eE(e,n),e.MOV[2]=Lib.mov[2+t],delete e.tC.ang}],[(e,[,t])=>{if(t&&![10,55,63,64].includes(e.obj)){let n=_C.P.from(e);n&&(1===t?(n.aspd=.05,n.h_=Math.randomr(-2,2),n.v_=Math.randomr(-2,0),n.vacc=.2):n.aspd=.1)}e.destroy(),10===e.obj&&e.cds&&e.grpO.for(e=>Lib.act[3][0](e,[0,t]))},(e,[,t])=>{if(2===e.spr.length){let n=2===t?1^e.ind:t;n!==e.ind&&(n!==e.ind<<0&&e.$d(),e.ind=n)}},(e,[,t,n])=>{let r=$R.trg,s=Math.mM(0|Lib.eE(e,t),0,9999);switch(n){case 0:r[s]=1;break;case 1:r[s]=r[s]&&3!==r[s]?3:0;break;case 2:r[s]=r[s]&&3!==r[s]?3:1}},(e,[,t,n])=>$R.sVR(t,n[0]?$R.gVR(t)+n[1]:n[1]),(e,[,t,n])=>t?$R.loadGame(n):$R.newGame(n),(e,[,t,n,r,s,a,i,o])=>{let p=Lib.eE(e,r),l=Lib.eE(e,s);i&&(p+=2===i?$R.plyX:e.x),o&&(l+=2===o?$R.plyY:e.y),$R.warp(t,n,p,l,a)},(e,[,t])=>{switch(t){case 0:$R._r.bgm.m>1&&$R.bgm.play().then(()=>{$R.run?$R.bgm.vol=$R._r.bgm.v??100:($R.bgm._vol=($R._r.bgm.v??100)/100,$R.bgm.pause(),$R.fD=!0)});break;case 1:$R.bgm.pause();break;case 2:$R.bgm.stop();break;case 3:$R.bgm.fO();break;case 4:$R.bgm.fI()}},(e,[,t,n])=>e.VAR[t]=n[0]?(e.VAR[t]??0)+n[1]:n[1],(e,[,t,n])=>{let r=$R.counter;switch(n[0]){case 0:r[t]??=0,r[t]+=n[1],r[t]<0&&$R._r.cN&&(r[t]=0);break;case 1:r[t]=n[1]}},(e,[,t,n])=>{let r=60*t+n;Math.abs($R.bgm.time-r)>=.05&&($R.bgm.time=r),$R.Tm=r},(e,[,t,n,r,s])=>{let a=$R.G._o[$R.G._i?.[t]];if(!a)return;let i=n[1],o=r[1];switch(n[0]){case 0:i+=e.x;break;case 2:i+=$R.plyX}switch(r[0]){case 0:o+=e.y;break;case 2:o+=$R.plyY}let p=Array.isArray(a.spr)?a.spr:$R._r.Spr[a.spr],l=new _C.R(a.ind,i,o,a.add.dep,p);Object.assign(l,a.add),l.pI(),1&s&&(e.mK??=[],e.mK.push(l)),2&s&&(l.mK=[e]);try{l.init(!0)}catch(t){if(!t.message?.startsWith("Maximum call"))throw t;$R.mE(e,2)}},(e,[,t,n,r],s,a)=>{a&&(a._i??=0),_C.D.emit({x:e.x,y:e.y,n:1,ang:e.ang,spd:0,dir:0,grp:0|Lib.eE(e,t),spr:e=>[$R._r.Spr.dm,0],f:[],_:e,_o:e,_i:a?a._i++:0,c(){this.f.push(e=>e.init(this))}},n,r)},(e,[,t,n,r],s,a)=>{a&&(a._i??=0);let i={x:e.x,y:e.y,f:[],_o:e,_i:a?a._i++:0};n.for(e=>Lib.act[6][Math.round(100*e[0]%100-1)](i,e)),r.for(e=>Lib.act[6][Math.round(100*e[0]%100-1)](i,e));let o=void 0!==i.spd,p=void 0!==i.dir;o&&p?i.f.unshift(e=>e.$Sd(i.spd,i.dir)):o?i.f.unshift(e=>e.$spd=i.spd):p&&i.f.unshift(e=>e.$dir=i.dir),i.spr&&i.f.push((e,t)=>e.sSp(i.spr(t))),i.upd&&i.f.push(i.upd);let l=_C.D.select(t,e);$R.eC.p[1]=l.length,l.for((e,t)=>{$R.eC.p[0]=t,i.f.for(n=>n(e,t))})},(e,[,t,n,r,s],a,i)=>{i&&(i._i??=0),_C.D.select(t,e).for(t=>{_C.D.emit({x:t.x,y:t.y,n:1,ang:t.ang,spd:0,dir:0,grp:0|Lib.eE(e,n),spr:e=>[t.spr,t.ind],f:[],_:t,_o:e,_i:i?i._i++:0,c(){this.f.push(e=>e.init(this))}},r,s)})},(e,[,t,n,r])=>{let s=$R.G._o[$R.G._i?.[t]];if(!s)return;let a=Array.isArray(s.spr)?s.spr:$R._r.Spr[s.spr];_C.D.emit({x:e.x,y:e.y,n:1,ang:e.ang,spd:0,dir:0,spr:()=>a,f:[],_:e,_o:e,c(){this.f.push(e=>{e.spd&&(e.MOV[0]=Lib.mov[0]),(e.hacc||e.vacc||e.acc)&&(e.MOV[0]=Lib.mov[0],e.MOV[1]=Lib.mov[1]),e.Md(4),e.MOV.length&&(e._m_|=3);try{e.init(!0)}catch(t){if(!t.message?.startsWith("Maximum call"))throw t;$R.mE(e,2)}})}},n,r,(e,t,n)=>{let r=new _C.R(s.ind,e,t,s.add.dep,n);return Object.assign(r,s.add),r.pI(),r})},(e,[,t,n])=>$R.gAc(t,n),(e,[,t,n])=>{let r=e.mK;if(r?.length)switch(n){case 1:{let e=0;for(;e<r.length;)if(!r[e++]._des){Lib.act[3][0](r[e-1],[0,t]);break}r.splice(0,e);break}case 2:{let e=r.length;for(;e;)if(!r[--e]._des){Lib.act[3][0](r[e],[0,t]);break}r.splice(e);break}case 3:e.wM(3,e=>Lib.act[3][0](e,[0,t]));break;default:r.for(e=>{e._des||Lib.act[3][0](e,[0,t])}),r.length=0}},(e,[,t])=>{let n=e.mK;if(n?.length)switch(t){case 0:n.length=0;break;case 1:for(let e=0;e<mK.length;e++)if(!mK[e]._des){mK.splice(0,e+1);break}break;case 2:for(let e=mK.length;e--;)if(!mK[e]._des){mK.splice(e);break}}},e=>{e.gpi&&e.cancelGroup()},(e,[,t])=>{if(e.gpi){if(e.gpi.startsWith(t))return;e.cancelGroup()}let n=$R._r.grp.find(e=>t===e.i);if(n&&!n.c._des){let r=n.p.indexOf(null);-1===r&&(r=n.p.length),e._gn=r,e.gpi=t+r,e.grp=n,n.o.push(e),n.c.csc&&(e.gscx=n.c.scx,e.gscy=n.c.scy,e.$scx=e._scx,e.$scy=e._scy),n.c.cag&&(e.gag=n.c.ang),n.p[r]=new _C.GP(0,0),e.resetGrpPos(),e.spd=0,e.h_=0,e.v_=0,e.Md(0),e.Md(1),e.Md(3),e.Md(4),e.addH&&(e.addH=0),e.addV&&(e.addV=0),e.yO&&(e.yO=null)}},(e,[,t,n,r])=>{let s=$R.counter,a=Math.mM(0|Lib.eE(e,t),0,9999);s[a]=Lib.aE(e,r,n,s[a]??0),$R._r.cI&&(s[a]=s[a]<<0),s[a]<0&&$R._r.cN&&(s[a]=0)},(e,[,t,n,r])=>{$R.sVR(t,Lib.aE(e,r,n,$R.gVR(t)))},(e,[,t,n,r])=>{$R.sRV(t,Lib.aE(e,r,n,$R.gRV(t)))},(e,[,t,n,r,s,a,i])=>{let o=$R.G._o[$R.G._i?.[t]];if(!o)return;let p=Lib.eE(e,r),l=Lib.eE(e,a);n&&(p+=2===n?$R.plyX:e.x),s&&(l+=2===s?$R.plyY:e.y);let c=Array.isArray(o.spr)?o.spr:$R._r.Spr[o.spr],d=new _C.R(o.ind,p,l,o.add.dep,c);Object.assign(d,o.add),d.pI(),1&i&&(e.mK??=[],e.mK.push(d)),2&i&&(d.mK=[e]);try{d.init(!0)}catch(t){if(!t.message?.startsWith("Maximum call"))throw t;$R.mE(e,2)}},(e,[,t,n,r])=>{e.VAR[t]=Lib.aE(e,r,n,e.VAR[t]??0)},(e,[,t])=>{$R._r.type&&($R.svS||4===$R._r.type)&&($R.warp(0,t),$R.stM=4)}],[(e,[,t])=>{let n=0|Lib.eE(e,t);e.TML[n]&&(e.TML[n].run=1)},(e,[,t])=>{let n=0|Lib.eE(e,t);e.TML[n]&&(e.TML[n].run=0)},(e,[,t])=>{const n=e.TML[t];n&&(n.run=0,n.time=0,n.node=0)},(e,[,t])=>e.tmlB=Math.max(Lib.eE(e,t),1),(e,[,t])=>{let n=0|Lib.eE(e,t);e.trgMap[n]&&e.tR(e.trgMap[n])},(e,[,t])=>{let n=$R.$p;if(n){if(-1===n.jp)return;let e=n.dj+1;n.dj=t?e:Math.min(e,n.jp)}},(e,[,t])=>{let n=$R.$p,r=Math.max(0|Lib.eE(e,t),-1);if(n){let e=n.jp;-1===r?n.dj=n.jp=-1:(n.jp=r,-1===e?n.dj=r:(n.dj+=r-e,n.dj<1&&(n.dj=1)))}},(e,[,t])=>{let n=$R.$p;n&&n.setGrav(t)},(e,[,t,n])=>{let r=$R.$p;if(!r)return!1;let s,a,i=0===t[0]?t[1]:Math.rand(t[1],t[2]);if(n[0]<3){let t=(0===n[0]?n[1]:1===n[0]?Math.rand(n[1],n[2]):e.ang+n[1])*Math.DR;s=i*Math.cos(t),a=-i*Math.sin(t)}else{let t=$R.plyX-e.x,r=$R.plyY-e.y,o=(t*t+r*r)**.5;o?(s=i*t/o,a=i*r/o,3===n[0]&&(s=-s,a=-a)):(s=0,a=0)}r.applyMove(s,a)},(e,[,t,n,r,s])=>{let a=$R.$p;if(!a)return;let i=0,o=0;switch(n[0]){case 0:i=n[1];break;case 1:i=e.x+n[1];break;case 2:i=a.x+n[1]}switch(r[0]){case 0:o=r[1];break;case 1:o=e.y+r[1];break;case 2:o=a.y+r[1]}switch(t[0]){case 0:a.sxy(i,o);break;case 1:if(a.onTrans)return;let e={x:a.x,y:a.y,toX:i,toY:o,al:a.al,t:t[1],c:t[1],m:t[2],s:t[3],shadow(){let e=_C.P.from($R.$p,1);e.al=this.al,e.aspd=.1*this.al},move(){let e=$R.$p;if(!e)return!0;this.t--;let t=this.m?Math.cos(this.t/this.c*Math.PI/2):1-this.t/this.c,n=this.x*(1-t)+this.toX*t,r=this.y*(1-t)+this.toY*t;if(e.sxy(n,r),this.t<=0)return this.s&&(e.al=this.al),e.fz=!1,e.onTrans=!1,!0;this.s?this.shadow():e.$d()}};e.s&&(e.shadow(),a.al=0),$R._co.push(e),a.fz=!0,a.onTrans=!0}s&&(a.v_=0,a.ah_=0)},(e,[,t])=>{let n=$R.$p;if(n)switch(t){case 0:n.eK=!1;break;case 1:n.fz=!0;break;default:n.eK=!0,n.fz=!1}},(e,[,t])=>e.TML.for(e=>{e.run=0,e.time=0,e.node=0}),(e,[,t,n])=>{let r=Math.mM(Lib.eE(e,t),0,1),s=Math.max(0|Lib.eE(e,n),1);$R.$p&&(s>1?($R.$p.alT=s,$R.$p.alD=(r-$R.$p.al)/s):($R.$p.al=r,$R.$p.$d()))},(e,[,t])=>{if($R.$p){let e=$R.$p.eO;switch(t){case 0:e.L=!1,e.R=!1;break;case 1:case 2:e.L=!0,e.R=!0,$R.$p.invertLR=2===t?-1:1;break;case 3:case 4:e.J=4===t;break;case 5:case 6:e.z=6===t;break;case 7:case 8:e.J1=8===t;break;case 9:case 10:e.JR=10===t}}},(e,[,t])=>{let n=e.TML[t[Math.rand(0,t.length)<<0]];n&&(n.run=1,n.time=0,n.node=0,n.jump.for(e=>n[e].ct=0))},(e,[,t])=>{let n=e.trgMap[t[Math.rand(0,t.length)<<0]];n&&e.tR(n)},(e,[,t,n])=>{let r=$R.$p;if(r)switch(n){case 0:r.setDk(1-(2===t?r.dk:t));break;case 1:r.cs=1-(2===t?r.cs:t);break;case 2:r.ad=1-(2===t?r.ad:t);break;case 3:r.eKl=1-(2===t?r.eKl:t)}},(e,[,t,n])=>{let r=0|Lib.eE(e,n);e.wM(t,e=>{e.TML[r]&&(e.TML[r].run=1)})},(e,[,t,n])=>{let r=0|Lib.eE(e,n);e.wM(t,e=>{e.trgMap[r]&&e.tR(e.trgMap[r])})},(e,[,t])=>$R.$p?.kill(Math.max(Lib.eE(e,t),0)),(e,[,t,n,r])=>{let s,a=$R.$p;a&&(n.length?(s=n[1],n=n[0]):s=Lib.eE(e,r),t?a.nh=n?Math.mM(a.nh+s,1,a.mh):s:(a.mh=n?Math.max(a.mh+s,0):s,a.mh&&a.nh>a.mh&&(a.nh=a.mh)))},(e,[,t,n,r])=>{let s,a=$R.$p;a&&(n.length?(s=n[1],n=n[0]):s=Lib.eE(e,r),t?a.ng=n?Math.mM(a.ng+s,0,a.og):-1===s?a.og:s:(a.og=n?Math.max(a.og+s,0):s,(a.ng>a.og||-1===a.ng)&&(a.ng=a.og)))},(e,[,t,n])=>{let r=$R.$p;if(!r)return;let s=Lib.eE(e,n);0===t&&(r.fric=s)},(e,[,t,n,r])=>{let s=$R.$p;if(s){let a=Lib.eE(e,r),i=s._scx,o=s.scy;1!==t&&(i=Math.mM(1===n?i+a:2===n?i*a:a,.1,256)),0!==t&&(o=Math.mM(1===n?o+a:2===n?o*a:a,.1,256)),s.setSc(i,o)}},(e,[,t])=>{let n=0|Lib.eE(e,t),r=e.TML[n];r&&(r.run=0,r.time=0,r.node=0,r.jump.for(e=>r[e].ct=0))},(e,[,t])=>{let n=0|Lib.eE(e,t),r=e.TML[n];r&&(r.run=1,r.time=0,r.node=0,r.jump.for(e=>r[e].ct=0))},(e,[,t,n,r])=>{let s=$R.$p;if(!s)return;let a=Lib.eE(e,t),i=Lib.eE(e,r);n&&(i+=2===n?Math.dir($R.plyX-e.x,$R.plyY-e.y):e.ang),i*=Math.DR,s.applyMove(a*Math.cos(i),-a*Math.sin(i))},(e,[,t,n,r,s,a,i,o,p])=>{let l=$R.$p;if(!l||l.onTrans)return;let c=Lib.eE(e,r),d=Lib.eE(e,a);n&&(c+=2===n?$R.plyX:e.x),s&&(d+=2===s?$R.plyY:e.y);let h=Lib.eE(e,o);if(h<1)l.sxy(c,d);else{let e={x:l.x,y:l.y,toX:c,toY:d,al:l.al,f:l.fz,s:p,t:new _C.TC,shadow(){let e=_C.P.from($R.$p,1);e.al=this.al,e.aspd=.1*this.al},move(){let e=$R.$p;if(!e)return!0;if(this.t.S--,this.t.S<=0)return e.sxy(this.toX,this.toY),this.s&&(e.al=this.al),e.fz=this.f,e.onTrans=!1,!0;{let t=this.t.F();e.sxy(this.x+(this.toX-this.x)*t,this.y+(this.toY-this.y)*t)}this.s?this.shadow():e.$d()}};e.t.init(0,0,h,0,1,t),e.s&&(e.shadow(),l.al=0),$R._co.push(e),l.fz=!0,l.onTrans=!0}i&&(l.v_=0,l.ah_=0)}],[(e,[,t,n,r])=>Au.play(t,2**(n/12),r),(e,[,t,n])=>{if(t&&$R.efC||55===e.obj||64===e.obj)return;let r=10===e.obj?new _C.O(0,0):_C.P.from(e);if(r){let t={f:[]};if($R.eC.rand=Math.randomr,n.for(e=>Lib.act[6][Math.round(100*e[0]%100-1)](t,e)),t.f.for(e=>e(r)),10===e.obj){let t={al:r.al};["h_","v_","spd","dir","aspd","afi","xspd","yspd","hacc","vacc","acc","rot"].for(e=>{r[e]&&(t[e]=r[e])}),e.grpOp(e=>{let n=_C.P.from(e);n&&Object.assign(n,t)})}$R.eC.rand=Math.rand}},(e,[,t,n,r],s,a)=>{if(t&&$R.efC)return;a&&(a._i??=0);let i={x:e.x,y:e.y,n:1,ang:e.ang,spd:0,dir:0,dep:7,spr:e=>[$R._r.Spr.dm,0],f:[],_:e,_o:e,_i:a?a._i++:0};$R.eC.rand=Math.randomr,_C.D.emit(i,n,r,(e,t,n)=>{let r=new _C.P(e,t,n[0],i.dep);return r.ind=n[1],r}),$R.eC.rand=Math.rand},(e,[,t,n,r])=>{$R.view.sX=t,$R.view.sY=n,$R.view.dDX=r,$R.view.dDY=r},(e,[,t])=>{const n=$R.view;switch(t[0]){case 0:let r=Lib.eE(e,t[1]),s=Lib.eE(e,t[2]);s<2?n.a+=r:(n.aT=s,n.aD=r/s),n.aO=null;break;case 1:n.aO=e,n.aT=0}},(e,[,t])=>{const n=$R.view;switch(t[0]){case 0:let r=Math.mM(Lib.eE(e,t[1]),.1,2),s=Lib.eE(e,t[2]);s<2?n.s=r:(n.sT=s,n.sD=(r-n.s)/s),n.sO=null;break;case 1:n.sO=e,n.sT=0}},(e,[,t,n,r,s])=>{$R.flC=Lib.dec.color(t),$R.flA=Math.mM(Lib.eE(e,r),0,1),$R.flT=Math.mM(Lib.eE(e,s),0,1),$R.flD=(s-r)/Math.max(1,Lib.eE(e,n))},(e,[,t])=>{switch(t){case 0:$R.view.fO=e;break;case 1:$R.view.fO=$R.$p}},(e,[,t])=>{switch(t){case 0:$R.view.O=e;break;case 1:$R.view.O=null}},(e,[,t])=>{t?Au.stop(t):Au.clear()},(e,[,t])=>{let n=$R.G._b.find(e=>e.i===t),r=$R._r.bgm;n&&(r.m=2,"0"===$R.Sm[r.i]?$R.bgm.stop():r.i!==n.d&&(r.i=n.d,r.a=0!==r.a,r.l=0!==r.l,r.v=n.v,$R.bgm.url=$R.Sm[r.i],$R.bgm.loop=r.l,$R.bgm.vol=r.v,r.a&&$R.bgm.play()))},(e,[,t,n,r])=>{let s=Math.min(16,Math.abs(Lib.eE(e,t))),a=Math.min(16,Math.abs(Lib.eE(e,n))),i=0,o=0;if(s||a){let t=Lib.eE(e,r);t>=1&&(i=s/t,o=a/t)}$R.view.sX=s,$R.view.sY=a,$R.view.dDX=i,$R.view.dDY=o}]],Lib.act.push([(e,[,t,n])=>e.f.push(e=>e.al*=$R.eC.rand(t,n)),(e,[,t,n])=>e.f.push(e=>e.$hvspd(t[0]?Math.randomr(t[1],t[2]):t[1],n[0]?Math.randomr(n[1],n[2]):n[1])),(e,[,t,n,r])=>{switch(r[0]){case 0:let s=r[1]*Math.DR,a=Math.cos(s),i=-Math.sin(s);e.f.push(e=>{let r=$R.eC.rand(t,n);e.hacc=r*a,e.vacc=r*i,e.spdT=0});break;case 1:e.f.push(e=>{let s=$R.eC.rand(t,n),a=(e.dir+r[1])*Math.DR;e.hacc=s*Math.cos(a),e.vacc=-s*Math.sin(a),e.spdT=0})}},(e,[,t])=>{switch(t[0]){case 0:e.f.push(e=>{e.acc=-t[1],e.spdT=0});break;case 1:e.f.push(e=>{e.acc=Math.abs(e.spd)*t[1]/-100,e.spdT=0})}},(e,[,t])=>e.f.push(n=>{n.aAD&&(n.aAD=0),n.rot=Lib.eE(e._o,t)}),(e,[,t,n])=>e.f.push(r=>{r.xspd=Lib.eE(e._o,t),r.yspd=Lib.eE(e._o,n)}),(e,[,t,n,r,s])=>{e.minWidth=t+"px",e.minHeight=n+"px",e.maxWidth=r+"px",e.maxHeight=s+"px"},(e,[,t,n,r,s])=>e.padding=`${t}px ${n}px ${r}px ${s}px`,(e,[,t,n,r])=>e.font=Res.decFont(t,n,r),(e,[,t])=>e.textAlign=["left","center","right","justify"][t],(e,[,t,n])=>{t.length<6&&(t="#"+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]),e.backgroundColor=t+Math.round(255*n).toString(16).padStart(2,"00")},(e,[,t,n,r])=>{e.border=t?`${t}px solid ${n}`:"none",e.borderRadius=r+"px"},(e,[,t,n,r,s,a])=>{s.length<6&&(s="#"+s[1]+s[1]+s[2]+s[2]+s[3]+s[3]),s+=Math.round(255*a).toString(16).padStart(2,"00"),e.boxShadow=`${t}px ${n}px ${r}px ${s}`},(e,[,t])=>{let n=0|Lib.eE(e._o,t);e.f.push(e=>e.grp=n)},(e,[,t,n])=>{e.x=(0===t[0]?e._.x:2===t[0]?$R.plyX:0)+$R.eC.rand(t[1],t[2]),e.y=(0===n[0]?e._.y:2===n[0]?$R.plyY:0)+$R.eC.rand(n[1],n[2])},(e,[,t])=>{switch(t[0]){case 0:e.dir=t[1];break;case 1:e._?e.dir=e._.dir+t[1]:e.f.push(e=>e.$dir=e.emt.dir+t[1]);break;case 2:e.dir=e._o.dir+t[1];break;case 3:e._?e.dir=e._.ang+t[1]:e.f.push(e=>e.$dir=e.emt.ang+t[1]);break;case 4:e.dir=e._o.ang+t[1]}},(e,[,t])=>{switch(t[0]){case 0:e.spd=t[1];break;case 1:e.spd=$R.eC.rand(t[1],t[2]);break;case 2:e._?e.spd=e._.spd*t[1]/100:e.f.push(e=>e.$spd=e.emt.spd*t[1]/100)}},(e,[,t])=>e.shape=t,(e,[,t])=>{switch(t[0]){case 0:e.n=t[1];break;case 1:e.n=$R.eC.rand(t[1],t[2]+1)<<0}},(e,[,t])=>e.color=t,(e,[,t,n,r])=>{let s=1===t?"h_":2===t?"v_":"spd",a="$"+s;switch(n){case 0:e.f.push(t=>{t[a]=Lib.eE(e._o,r),t.spdT=0});break;case 1:e.f.push(t=>{t[a]=t[s]+Lib.eE(e._o,r),t.spdT=0});break;case 2:e.f.push(t=>{t[a]=t[s]*Lib.eE(e._o,r),t.spdT=0})}},(e,[,t])=>{switch(t[0]){case 0:e.f.push(e=>e.$dir=e.dir+$R.eC.rand(t[1],t[2]));break;case 1:e.f.push(e=>e.$dspd($R.plyX-e.x,$R.plyY-e.y,e.spd));break;case 2:e.f.push(e=>e.$dspd(t[1]-e.x,t[2]-e.y,e.spd))}},(e,[,t,n])=>{t?e.f.push(t=>{let r=Lib.eE(e._o,n);t.dspd=r?360/(r*Math.PI2)*t.spd:0}):e.f.push(t=>t.dspd=Lib.eE(e._o,n))},(e,[,t])=>{switch(t[0]){case 0:e.f.push(e=>{e.acc=t[1],e.spdT=0});break;case 1:e.f.push(e=>{e.acc=Math.abs(e.spd)*t[1]/100,e.spdT=0})}},(e,[,t])=>{e.dir??=0,e.dir+=Lib.eE(e._o,t)},e=>e.c=()=>{let t={grp:e.grp,_:e._,_o:e._o,_x:e.x-e._.x,_y:e.y-e._.y,get x(){return this._.x+this._x},get y(){return this._.y+this._y},get dir(){return this._.dir},get spd(){return this._.spd},get ang(){return this._.ang}};e.f.push(n=>{n.c=e._,n.init(t)})},(e,[,t,n])=>{e.f.push(r=>{r.x+=Lib.eE(e._o,t),r.y+=Lib.eE(e._o,n)})},(e,[,t])=>{switch(t[0]){case 0:e.f.push(e=>{e.$h_=e.h_+$R.eC.rand(t[1],t[2]),e.spdT=0});break;case 1:e.f.push(e=>{e.$h_=e.h_*$R.eC.rand(t[1],t[2]),e.spdT=0})}},(e,[,t])=>{switch(t[0]){case 0:e.f.push(e=>{e.$v_=e.v_+$R.eC.rand(t[1],t[2]),e.spdT=0});break;case 1:e.f.push(e=>{e.$v_=e.v_*$R.eC.rand(t[1],t[2]),e.spdT=0})}},(e,[,t,n])=>{let r=0;if(0===n[0]&&(r=n[1]),0!==r)switch(t[0]){case 0:e._?e.f.push(t=>t.mR(e.x,e.y,r)):e.f.push(e=>e.mR(e.emt.x,e.emt.y,r));break;case 1:let n=e._o.x+t[1],s=e._o.y+t[2];e.f.push(e=>e.mR(n,s,r));break;case 2:e.f.push(e=>e.mR(t[1],t[2],r))}},(e,[,t,n])=>{if(0!==n)switch(n/=100,t[0]){case 0:e._?e.f.push(t=>t.mZ(e.x,e.y,n)):e.f.push(e=>e.mZ(e.emt.x,e.emt.y,n));break;case 1:let r=e._o.x+t[1],s=e._o.y+t[2];e.f.push(e=>e.mZ(r,s,n));break;case 2:e.f.push(e=>e.mZ(t[1],t[2],n))}},(e,[,t,n])=>{if(!n.length)return;let r=n.map(e=>{let[t,n]=e.split("-"),r=$R._r.Spr[t];if(!r)return[$R._r.Spr.dm,0];if(0===r.i){let e=Number(n),s=(e<8?e/4:e/2-2)<<0;return r=$R._r.Spr[t+$R.sprPly[s]],r?[r,e<8?e%4:e%2]:[$R._r.Spr.dm,0]}return[r,Number(n)%r.length]});switch(t){case 0:e.spr=t=>r[Math.min(t/e.n*r.length<<0,r.length-1)];break;case 1:e.spr=e=>r[$R.eC.rand(0,r.length)<<0];break;case 2:{let t=r[$R.eC.rand(0,r.length)<<0];e.spr=e=>t;break}case 3:{let t=r[e._i%r.length];e.spr=e=>t;break}}},e=>{e._?e._._des=!0:e.f.push(e=>e._des=!0)},(e,[,t,n,r,s])=>e.f.push(a=>{let i=0|Lib.eE(e._o,t);a.shadow=i?[i,Math.max(.01,Lib.eE(e._o,n)),Math.max(.01,Lib.eE(e._o,r)),-Lib.eE(e._o,s)]:null}),(e,[,t])=>e.f.push(n=>n.dM=Math.min(Lib.eE(e._o,t),800)),(e,[,t,n,r])=>{let s=0,a=0,i=r?180:0;switch(n[0]){case 0:s=$R.plyX,a=$R.plyY;break;case 1:s=n[1],a=n[2]}switch(t){case 0:e._?e.dir=Math.dir(s-e.x,a-e.y)+i:e.f.push(e=>e.$dir=Math.dir(s-e.emt.x,a-e.emt.y)+i);break;case 1:e.dir=Math.dir(s-e._o.x,a-e._o.y)+i}},(e,[,t,n])=>{let r,s,a=t[1],i=t[2];switch(t[0]){case 0:case 1:0===t[0]&&(a+=e._o.x,i+=e._o.y),r=e=>a-e.x,s=e=>i-e.y;break;case 2:r=e=>2*(a-e.x),s=e=>2*(i-e.y);break;case 3:r=e=>2*(a-e.x),s=e=>0;break;case 4:r=e=>0,s=e=>2*(a-e.y)}n[0]?e.f.push(e=>{let t=r(e),a=s(e),i=(t*t+a*a)**.5;e.$dspd(t,a,n[1]),e.acc=-n[1]/(2*i/n[1]+1),e.hacc=0,e.vacc=0,e.dspd=0,e.spdT=0}):e.f.push(e=>{let t=r(e),a=s(e),i=(t*t+a*a)**.5;e.$dspd(t,a,2*i/n[1]),e.acc=-Math.abs(e.spd)/(n[1]+1),e.hacc=0,e.vacc=0,e.dspd=0,e.spdT=0})},(e,[,t])=>{switch(t[0]){case 0:case 1:e.f.push(t[0]?e=>{e.scx=Math.rand(t[1],t[2]),e.scy=e.scx}:e=>{e.scx=t[1],e.scy=t[2]}),e._||(e.upd=e=>{e.w=e.scx*e._w,e.h=e.scy*e._h,e.calc=!1,e.cB()});break;case 2:e.f.push(e=>{e.scxT=new _C.TC,e.scxT.init(e,"scx",t[3],e.scx,t[1]-e.scx,0),e.scyT=new _C.TC,e.scyT.init(e,"scy",t[3],e.scy,t[2]-e.scy,0)})}},(e,[,t,n])=>{switch(t){case 0:e.f.push(t=>{t.rot=0,t.aAD=(Lib.eE(e._o,n)%360+360)%360+1,t.ang=(t.dir+t.aAD+359)%360});break;case 1:e.f.push(t=>{t.aAD=0,t.ang=(Lib.eE(e._o,n)%360+360)%360});break;case 2:e.f.push(t=>{t.aAD=0,t.ang=(t.ang+Lib.eE(e._o,n)%360+360)%360})}},(e,[,t])=>{switch(t[0]){case 0:e.f.push(e=>{e.al=0,e.alT=1,e.afi=1/t[1],e.aspd=0});break;case 1:e.f.push(e=>{e.afi=0,e.aspd=e.al/t[1]});break;case 2:e.f.push(e=>{e.al=t[1],e.aspd=0,e.afi=0})}},(e,[,t,n])=>{switch(t){case 0:e.f.push(t=>{t.scx=Lib.eE(e._o,n),t.scy=t.scx;let r=Math.sign(t.scx);t.scxA=r||t.scxA,t.scyA=r||t.scyA});break;case 1:e.f.push(t=>{t.scx=Lib.eE(e._o,n),t.scxA=Math.sign(t.scx)||t.scxA});break;case 2:e.f.push(t=>{t.scy=Lib.eE(e._o,n),t.scyA=Math.sign(t.scy)||t.scyA})}},(e,[,t])=>e.f.push(n=>n.aspd=n.al/Math.max(1,Lib.eE(e._o,t))),(e,[,t])=>e.f.push(e=>e.ptc=t),(e,[,t])=>{if(t){t<10&&(t-=1);let n=t?_C.dSprB:_C.dSprN;e.f.push(e=>{e.bm=t,e.dSpr=n})}else e.f.push(e=>{e.bm=void 0,e.dSpr=e.spr.m?_C.dSprB:_C.dSprN})},(e,[,t,n])=>{let r=t[0]??t,s=t.slice?.(1)??[0|(1===r||3===r)],a=Lib.dec.color(n),i=[$R.shS,r];e.spr=e=>i,e.f.push(e=>{e.cC(a),e.lw=s})},(e,[,t,n])=>{let r=Lib.dec.color(t);e.f.push(e=>{e.cC(r),e.cbm=n})},(e,[,t,n])=>e.f.push(r=>{if(r.bc=t,t){let t=0|Lib.eE(e._o,n);r.bcC=t||Infinity}}),(e,[,t])=>e.dep=t,(e,[,t])=>e.f.push(e=>{e.kill=t,e.afiK=0}),(e,[,t,n,r,s,a,i,o])=>{t||n?e.f.push(p=>{p.wH=t,p.wV=n,p.wC=r,p.wL=Lib.eE(e._o,s),p.wR=Lib.eE(e._o,a),p.wT=Lib.eE(e._o,i),p.wB=Lib.eE(e._o,o)}):e.f.push(e=>{e.wH=0,e.wV=0})},(e,[,t])=>{t[0]?e.f.push(e=>e.ims=t[1]):e.f.push(e=>e.ims=e.spr.ims)},(e,[,t])=>{let n=e._o;switch(n.mK??=[],t){case 0:e.f.push(e=>n.mK.push(e));break;case 1:e.f.push(e=>e.mK=[n]);break;case 2:e.f.push(e=>{n.mK.push(e),e.mK=[n]})}},(e,[,t,n,r,s])=>{if(r)switch(t){case 0:e.f.push(t=>{let r=Lib.eE(e._o,n)-t.spd,a=Math.abs(Lib.eE(e._o,s));a&&(r<0?t.tSP(-r/a,-a):t.tSP(r/a,a))});break;case 1:e.f.push(t=>{let r=Lib.eE(e._o,n),a=Math.abs(Lib.eE(e._o,s));a&&(r<0?t.tSP(-r/a,-a):t.tSP(r/a,a))});break;case 2:e.f.push(t=>{let r=(Lib.eE(e._o,n)-1)*t.spd,a=Math.abs(Lib.eE(e._o,s));a&&(r<0?t.tSP(-r/a,-a):t.tSP(r/a,a))})}else switch(t){case 0:e.f.push(t=>{let r=Math.max(1,Lib.eE(e._o,s));t.tSP(r,(Lib.eE(e._o,n)-t.spd)/r)});break;case 1:e.f.push(t=>{let r=Math.max(1,Lib.eE(e._o,s));t.tSP(r,Lib.eE(e._o,n)/r)});break;case 2:e.f.push(t=>{let r=Math.max(1,Lib.eE(e._o,s));t.tSP(r,(Lib.eE(e._o,n)-1)*t.spd/r)})}},e=>e.f.push(e=>e.sld=!0),(e,[,t,n])=>{e.width=t+"px",e.height=n+"px"},(e,[,t,n])=>e.webkitTextStroke=t+"px"+n,(e,[,t,n,r,s])=>e.textShadow=`${t}px ${n}px ${r}px ${s}`,(e,[,t])=>e.opacity=t,(e,[,t,n])=>{let r="";switch(n[0]){case 0:r="ease";break;case 1:r="ease-in";break;case 2:r="ease-out";break;case 3:r="linear";break;case 4:r=`cubic-bezier(${n[1]},${n[2]},${n[3]},${n[4]})`}e.transitionDuration=t+"s",e.transitionTimingFunction=r},(e,[,t,n,r,s,a])=>e.transform=`translate(${t}px,${n}px) scale(${r},${s}) rotate(${-a}deg)`,(e,[,t])=>e.f.push(n=>n.afi=n.al/Math.max(1,Lib.eE(e._o,t))),(e,[,t,n])=>{let r=Lib.dec.color(t);e.f.push(e=>Lib.dec.hT(e,r.slice(),n[0],n[1]))},(e,[,t])=>e.f.push(n=>{let r=Lib.eE(e._o,t);n.x+=n.h_*r,n.y+=n.v_*r}),(e,[,t,n])=>e.backdropFilter=["grayscale","invert","hue-rotate","brightness","saturate","contrast","sepia"][t]+"("+n+(2===t?"deg":"%")+")",(e,[,t,n,r,s])=>{let a=Lib.eE(e._o,n),i=Lib.eE(e._o,s);t&&(a+=2===t?$R.plyX:e._.x),r&&(i+=2===r?$R.plyY:e._.y),e.x=a,e.y=i},(e,[,t,n])=>{let r=Lib.eE(e._o,n);switch(t){case 0:e.dir=r;break;case 1:e._?e.dir=e._.dir+r:e.f.push(e=>e.$dir=e.emt.dir+r);break;case 2:e._?e.dir=e._.ang+r:e.f.push(e=>e.$dir=e.emt.ang+r);break;case 3:e._?e.dir=Math.dir($R.plyX-e._.x,$R.plyY-e._.y)+r:e.f.push(e=>e.$dir=Math.dir($R.plyX-e.emt.x,$R.plyY-e.emt.y)+r)}},(e,[,t])=>e.n=Lib.eE(e._o,t)<<0,(e,[,t,n])=>e.f.push(r=>r.al=Lib.aE(e._o,n,t,r.al)),(e,[,t,n])=>e.f.push(r=>{let s=Math.max(0,Lib.eE(e._o,t));s?r.afi=r.al/s:(r.afi=0,r.alT=void 0),r.afiK=n}),(e,[,t,n])=>e.f.push(r=>{let s=Math.max(0,Lib.eE(e._o,t));r.aspd=s?r.al/s:0,r.afoD=n}),(e,[,t,n,r,s,a])=>{e.f.push(i=>{let o=Lib.eE(e._o,r),p=Lib.eE(e._o,a);if(p>=1){if(1!==t){let e=1===n?i.scx+o:2===n?i.scx*o:o;i.scxT=new _C.TC,i.scxT.init(i,"scx",p,i.scx,e-i.scx,s)}if(0!==t){let e=1===n?i.scy+o:2===n?i.scy*o:o;i.scyT=new _C.TC,i.scyT.init(i,"scy",p,i.scy,e-i.scy,s)}}else 1!==t&&(i.scx=1===n?i.scx+o:2===n?i.scx*o:o,delete i.scxT),0!==t&&(i.scy=1===n?i.scy+o:2===n?i.scy*o:o,delete i.scyT)}),e._||(e.upd=e=>{e.w=e.scx*e._w,e.h=e.scy*e._h,e.calc=!1,e.cB()})},(e,[,t,n])=>{t?e.f.push(t=>{t.acc=Math.abs(t.spd)*Lib.eE(e._o,n)/100,t.spdT=0}):e.f.push(t=>{t.acc=Lib.eE(e._o,n),t.spdT=0})},(e,[,t,n,r])=>{n?e.f.push(n=>{let s=Lib.eE(e._o,t),a=(n.dir+Lib.eE(e._o,r))*Math.DR;n.hacc=s*Math.cos(a),n.vacc=s*-Math.sin(a),n.spdT=0}):e.f.push(n=>{let s=Lib.eE(e._o,t),a=Lib.eE(e._o,r)*Math.DR;n.hacc=s*Math.cos(a),n.vacc=s*-Math.sin(a),n.spdT=0})},(e,[,t])=>e.spd=Lib.eE(e._o,t),(e,[,t,n])=>{switch(t){case 0:e.f.push(t=>t.$dir=Lib.eE(e._o,n));break;case 1:e.f.push(t=>t.$dir=t.dir+Lib.eE(e._o,n));break;case 2:e.f.push(t=>t.$dir=Math.dir($R.plyX-t.x,$R.plyY-t.y)+Lib.eE(e._o,n))}},(e,[,t,n])=>e.f.push(r=>r.$dir=Math.dir(Lib.eE(e._o,t)-r.x,Lib.eE(e._o,n)-r.y)),(e,[,t,n,r])=>{let s=Lib.eE(e._o,n),a=Lib.eE(e._o,r);switch(t){case 0:e._?e.dir=Math.dir(s-e.x,a-e.y):e.f.push(e=>e.$dir=Math.dir(s-e.emt.x,a-e.emt.y));break;case 1:e.dir=Math.dir(s-e._o.x,a-e._o.y)}},(e,[,t,n])=>{t[0]?e.f.push(r=>r.mR(Lib.eE(e._o,t[1]),Lib.eE(e._o,t[2]),Lib.eE(e._o,n))):e._?e.f.push(t=>t.mR(e.x,e.y,Lib.eE(e._o,n))):e.f.push(t=>t.mR(t.emt.x,t.emt.y,Lib.eE(e._o,n)))},(e,[,t,n])=>{t[0]?e.f.push(r=>r.mZ(Lib.eE(e._o,t[1]),Lib.eE(e._o,t[2]),Lib.eE(e._o,n)/100)):e._?e.f.push(t=>t.mZ(e.x,e.y,Lib.eE(e._o,n))):e.f.push(t=>t.mZ(t.emt.x,t.emt.y,Lib.eE(e._o,n)/100))},(e,[,t,n])=>{let r,s,a=t[1],i=t[2];switch(t[0]){case 0:r=t=>Lib.eE(e._o,a)-t.x,s=t=>Lib.eE(e._o,i)-t.y;break;case 1:r=t=>2*(Lib.eE(e._o,a)-t.x),s=t=>2*(Lib.eE(e._o,i)-t.y);break;case 2:r=t=>2*(Lib.eE(e._o,a)-t.x),s=e=>0;break;case 3:r=e=>0,s=t=>2*(Lib.eE(e._o,a)-t.y)}n[0]?e.f.push(t=>{let a=r(t),i=s(t),o=(a*a+i*i)**.5,p=Lib.eE(e._o,n[1]);t.$dspd(a,i,p),t.acc=-p/(2*o/p+1),t.hacc=0,t.vacc=0,t.dspd=0,t.spdT=0}):e.f.push(t=>{let a=r(t),i=s(t),o=(a*a+i*i)**.5,p=Math.max(1,Lib.eE(e._o,n[1]));t.$dspd(a,i,2*o/p),t.acc=-Math.abs(t.spd)/(p+1),t.hacc=0,t.vacc=0,t.dspd=0,t.spdT=0})}]),Lib.act.push([(e,[,,t,n])=>{let r=Math.mM(0|Lib.eE(e,t),0,9999);switch(n){case 0:return 1===$R.trg[r];case 1:return 3===$R.trg[r];case 2:return 1===$R.trg[r]||2===$R.trg[r];case 3:return!$R.trg[r]||3===$R.trg[r]}},(e,[,,t,n,r])=>Math.comp(t?e.y:e.x,n,Lib.eE(e,r)),(e,[,,t])=>e.hd===t,(e,[,,t,n,r])=>Math.comp(t?e.scy:e.scx,n,Lib.eE(e,r)),(e,[,,t,n,r])=>{let s=$R.$p;return s&&Math.comp(t?s.y:s.x,n,Lib.eE(e,r))},(e,[,,t,n])=>$R.$p&&Math.comp($R.$p.jp,t,n),(e,[,,t,n,r])=>{let s=$R.gVR(t);return void 0!==s&&Math.comp(s,n,Lib.eE(e,r))},(e,[,,t])=>!$R.svS==!t,(e,[,,t,n])=>$R.$p&&Math.comp($R.$p.gd,t,n),(e,[,,t,n,r])=>Math.comp(e.VAR[t]??0,n,Lib.eE(e,r)),(e,[,,t,n,r])=>{let s=0;switch(t){case 0:s=e.h_;break;case 1:s=e.v_;break;case 2:s=e.spd}return Math.comp(s,n,Lib.eE(e,r))},(e,[,,t,n,r])=>{let s=0;switch(t){case 0:s=e.ang;break;case 1:s=(e.ang-e.dir+360)%360,s>180&&(s-=360);break;case 2:s=(e.ang-Math.dir($R.plyX-e.x,$R.plyY-e.y)+360)%360,s>180&&(s-=360)}return Math.comp(s,n,Lib.eE(e,r))},(e,[,,t,n])=>Math.comp(e.al,t,Lib.eE(e,n)),(e,[,,t,n,r])=>{let s=Math.mM(0|Lib.eE(e,t),0,9999);return Math.comp($R.counter[s]??0,n,Lib.eE(e,r))},(e,[,,t,n,r])=>{let s=0;switch(t){case 0:s=e.dir;break;case 1:s=(e.dir-Math.dir($R.plyX-e.x,$R.plyY-e.y)+360)%360,s>180&&(s-=360)}return Math.comp(s,n,Lib.eE(e,r))},(e,[,,t,n,r])=>Math.comp(r?e.ind:e.ind<<0,t,Lib.eE(e,n)),(e,[,,t])=>{const n=$R.ev;switch(t){case.1:return n[0]|n[1]|n[3];case.2:return n[0];case.3:return n[1];case.4:return n[3];case 1.1:return n[2]|n[4]|n[5]|n[7];case 1.2:return n[2]|n[4];case 1.3:return n[5]|n[7];case 1.4:return n[2];case 1.5:return n[4];case 1.6:return n[5];case 1.7:return n[7];case 2:return n[6]}},(e,[,,t])=>{switch(t){case 0:return $R.ev[8];case 1:return $R.ev[9]}},(e,[,,t,n,r])=>{if(!$R.$p)return!1;switch(t){case 0:return Math.comp($R.$p.h_+$R.$p.ph_,n,Lib.eE(e,r));case 1:return Math.comp($R.$p.v_+$R.$p.pv_,n,Lib.eE(e,r))}},(e,[,,t])=>!!$R.$p&&($R.$p.scx>0)<<0===t,(e,[,,t,n,r,s])=>{let a;switch(n){case 0:a=t?e.y-e.ys:e.x-e.xs;break;case 1:a=t?e.y-$R.plyY:e.x-$R.plyX;break;case 2:a=t?e.y-$R.view.y:e.x-$R.view.x;break;case 3:if(!e.gpi)return!1;a=t?e.y-e.grp.c.y:e.x-e.grp.c.x}return Math.comp(a,r,Lib.eE(e,s))},(e,[,,t,n])=>{let r=$R.$p;if(r)return 0===n?r.dk===t:1===n?r.cs===t:2===n?r.ad===t:3===n?r.eKl===t:void 0},(e,[,,t])=>e.cm===t,(e,[,,t,n,r])=>{let s;switch(t[0]){case 0:s=Math.dis($R.plyX-e.x,$R.plyY-e.y);break;case 1:s=Math.dis(t[1]-e.x,t[2]-e.y)}return Math.comp(s,n,Lib.eE(e,r))},(e,[,,t,n,r,s])=>{let a=0,i=0,o=Lib.eE(e,s);return e.wM(t,e=>{a+=Math.comp(n?e.y:e.x,r,o),i++}),a&&a===i},(e,[,,t,n,r,s])=>{let a=e.x,i=e.y,o=0,p=0;return e.wM(t,e=>{o+=Math.comp(n?e.y-i:e.x-a,r,s),p++}),o&&o===p},(e,[,,t,n,r,s])=>{let a=0,i=0,o=Lib.eE(e,s);switch(n){case 0:e.wM(t,e=>{a+=Math.comp(e.h_,r,o),i++});break;case 1:e.wM(t,e=>{a+=Math.comp(e.v_,r,o),i++});break;case 2:e.wM(t,e=>{a+=Math.comp(e.spd,r,o),i++})}return a&&a===i},(e,[,,t,n])=>{const r=$R._r.Spr[n];return t?r!==e.spr:r===e.spr},(e,[,,t,n,r])=>{let s=$R.$p,a=0;if(!s)return!1;switch(t){case 0:a=s.jp;break;case 1:a=-1===s.jp?-1:Math.max(s.dj-1,0)}return Math.comp(a,n,Lib.eE(e,r))},(e,[,,t,n,r])=>{let s=$R.$p,a=0;if(!s)return!1;switch(t){case 0:a=s.mh;break;case 1:a=s.nh;break;case 2:a=s.og;break;case 3:a=s.ng}return Math.comp(a,n,Lib.eE(e,r))},(e,[,,t,n,r])=>{let s=$R.gRV(t);return void 0!==s&&Math.comp(s,n,Lib.eE(e,r))},(e,[,,t,n])=>Math.comp(e.ag,t,Lib.eE(e,n)),(e,[,,t,n])=>Math.comp(e.as,t,Lib.eE(e,n)),(e,[,,t])=>(0|e.pfs)===t,(e,[,,t])=>(0|e.lso)===t,(e,[,,t,n])=>Math.comp(e.lso&&!e.lst?e._h:e.len,t,Lib.eE(e,n)),(e,[,,t,n,r])=>Math.comp(Lib.eE(e,t),n,Lib.eE(e,r)),(e,[,,t])=>{let n=0,r=t.n;e:for(let s=0;s<r.length;s++){let a=r[s];for(let r=0;r<a;r++){const s=t[n+r];if(!s.f(e,s)){n+=a;continue e}}return!0}return!1},(e,[,,t])=>{let n=0,r=t.n;e:for(let s=0;s<r.length;s++){let a=r[s];for(let r=0;r<a;r++){const s=t[n+r];if(!s.f(e,s)){n+=a;continue e}}return!1}return!0},(e,[,,t])=>0===e.txT==!t,(e,[,,t,n])=>Math.comp(e.txi,t,Lib.eE(e,n)),(e,[,,t,n,r,s])=>Math.comp(Math.dis(Lib.eE(e,t)-e.x,Lib.eE(e,n)-e.y),r,Lib.eE(e,s))],[(e,[,,t])=>1===e.uC(t),(e,[,,t])=>3===e.uC(t),(e,[,,t])=>{let n=e.uC(t);return 1===n||2===n},(e,[,,t])=>{let n=e.uC(t);return!n||3===n},(e,[,,t])=>{let n=e.meetAll(t),r=e.colS[t];if(r.c||(0===r.i?n[0]&&(r.i=1,r.o=n[0],e.uCO(n[0],0)):2===r.i&&(n[0]?e.uCO(n[0],0):r.i=3,r.o=n[0]),r.c=!0),n.length)return e.mK??=[],n.for(t=>e.mK.add(t)),!0},(e,[,,t,n,r,s])=>!e.mxy(n,r,t)==!!s],[(e,[,,t])=>$R.P(t),(e,[,,t])=>$R.R(t),(e,[,,t])=>$R.C(t)]);{let e,t;const n=[([,t,n])=>$R.eC.rand(e(t),e(n)),([,t,n])=>e(t)+e(n),([,t,n])=>e(t)-e(n),([,t,n])=>e(t)*e(n),([,t,n])=>e(t)/e(n),([,t,n])=>e(t)%e(n),([,t,n])=>e(t)**e(n),([,t,n])=>e(t)===e(n),([,t,n])=>e(t)!==e(n),([,t,n])=>e(t)<e(n),([,t,n])=>e(t)<=e(n),([,t,n])=>e(t)>e(n),([,t,n])=>e(t)>=e(n),([,t,n])=>e(t)&&e(n),([,t,n])=>e(t)||e(n),([,t,n])=>e(t)&e(n),([,t,n])=>e(t)^e(n),([,t,n])=>e(t)|e(n),([,t,n])=>e(t)<<e(n),([,t,n])=>e(t)>>e(n),([,t,n])=>{let r=Math.round(e(t)),s=Math.round(e(n));return r>s&&([r,s]=[s,r]),Math.floor($R.eC.rand(r,s+1))},,,,([,e])=>$R.eC.p[e],([,e,n])=>{let r;if(1===e){if(r=$R.$p,1===n)return $R.plyX;if(2===n)return $R.plyY}else r=t;if(r||s("访问不存在的物体"),"string"==typeof n)return r.VAR[n];if(1===e)switch(n){case 3:return r.scx;case 4:return 90===r.gd?-r.scy:r.scy;case 5:return 90===r.gd?0:(r.gd+90)%360;case 6:return r.h_+r.ph_;case 7:return r.v_+r.pv_;case 8:return Math.dis(r.h_+r.ph_,r.v_+r.pv_);case 9:return Math.dir(r.h_+r.ph_,r.v_+r.pv_);case 10:return r.grav;case 11:return r.gd;case 12:return 0}else switch(n){case 1:return r.x;case 2:return r.y;case 3:return r.scx;case 4:return r.scy;case 5:return r.ang;case 6:return r.h_;case 7:return r.v_;case 8:return r.spd;case 9:return r.dir;case 10:return Math.dis(r.hacc,r.vacc);case 11:return Math.dir(r.hacc,r.vacc);case 12:return r.acc}s("访问未定义的属性")},,,,([,e])=>$R.gRV(e),([,e])=>$R.gVR(e),([,t])=>$R.counter[0|e(t)]??0,([,t])=>Math.abs(e(t)),([,t])=>Math.floor(e(t)),([,t])=>Math.round(e(t)),([,t])=>Math.sin(e(t)*Math.DR),([,t])=>Math.cos(e(t)*Math.DR),([,t])=>Math.sign(e(t)),([,t])=>Math.ceil(e(t)),([,t])=>Math.tan(e(t)*Math.DR),([,t])=>Math.log(e(t)),([,t])=>Math.exp(e(t)),([,t])=>Math.asin(e(t))/Math.DR,([,t])=>Math.acos(e(t))/Math.DR,([,t])=>Math.atan(e(t))/Math.DR,,,,([,t,n])=>Math.max(e(t),e(n)),([,t,n])=>Math.min(e(t),e(n)),([,t,n,r])=>Math.min(Math.max(e(t),e(n)),e(r)),([,t,n,r])=>{let s=e(t);return s+(e(n)-s)*e(r)},([,t,n])=>{let r=e(t),s=e(n);return s*Math.floor(r/s)},([,t,n])=>Math.atan2(e(t),e(n))/Math.DR,([,t,n])=>Math.dis(e(t),e(n)),([,t,n])=>Math.dir(e(t),e(n)),,,,,,,,,,],r=n.slice(0),s=e=>$R.eEE(e,t),a=e=>"number"!=typeof e?n[e[0]](e):e,i=e=>{let t="number"!=typeof e?r[e[0]](e):e;return void 0===t&&s("未定义的值"),Number.isNaN(t)&&s("超出函数定义域"),t};r[4]=([,t,n])=>{let r=e(t),a=e(n);return 0===a&&s("除数为零"),r/a},r[5]=([,t,n])=>{let r=e(t),a=e(n);return 0===a&&s("除数为零"),r%a},r[29]=([,e])=>{let t=$R.gRV(e);return void 0===t&&s("未定义房间变量["+e+"]"),t},r[30]=([,e])=>{let t=$R.gVR(e);return void 0===t&&s("未定义存档变量["+("$"===e[0]?e.slice(1):e)+"]"),t},r[31]=([,t])=>{let n=0|e(t);return(n<0||n>9999)&&s("未定义计数器["+n+"]"),$R.counter[n]??0},Lib.iE=n=>{e=n?i:a,Lib.eE=(n,r)=>(t=n,e(r))}}